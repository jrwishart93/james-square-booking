[debug] [2025-04-10T00:27:17.266Z] ----------------------------------------------------------------------
[debug] [2025-04-10T00:27:17.273Z] Command:       /opt/homebrew/Cellar/node/23.10.0_1/bin/node /opt/homebrew/bin/firebase deploy --only functions
[debug] [2025-04-10T00:27:17.273Z] CLI Version:   14.1.0
[debug] [2025-04-10T00:27:17.273Z] Platform:      darwin
[debug] [2025-04-10T00:27:17.273Z] Node Version:  v23.10.0
[debug] [2025-04-10T00:27:17.274Z] Time:          Thu Apr 10 2025 10:27:17 GMT+1000 (Australian Eastern Standard Time)
[debug] [2025-04-10T00:27:17.274Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-04-10T00:27:17.410Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-04-10T00:27:17.410Z] > authorizing via signed-in user (jrwishart93@gmail.com)
[debug] [2025-04-10T00:27:17.410Z] [iam] checking project jamessquarebookings for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-04-10T00:27:17.411Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:17.411Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:17.412Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions [none]
[debug] [2025-04-10T00:27:17.412Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:27:17.412Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-04-10T00:27:18.057Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions 200
[debug] [2025-04-10T00:27:18.057Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-04-10T00:27:18.057Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:18.057Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:18.057Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/jamessquarebookings/serviceAccounts/jamessquarebookings@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-04-10T00:27:18.058Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/jamessquarebookings/serviceAccounts/jamessquarebookings@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-04-10T00:27:18.646Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/jamessquarebookings/serviceAccounts/jamessquarebookings@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-04-10T00:27:18.647Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/jamessquarebookings/serviceAccounts/jamessquarebookings@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'jamessquarebookings'...
[info] 
[info] i  deploying functions 
[debug] [2025-04-10T00:27:18.650Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:18.650Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:18.651Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings [none]
[debug] [2025-04-10T00:27:18.955Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings 200
[debug] [2025-04-10T00:27:18.955Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings {"projectNumber":"310610178744","projectId":"jamessquarebookings","lifecycleState":"ACTIVE","name":"JamesSquareBookings","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-04-02T23:19:17.824610Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-04-10T00:27:18.957Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:18.957Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:18.957Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:18.957Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-04-10T00:27:18.957Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:18.957Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-04-10T00:27:18.958Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:18.958Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:18.958Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudfunctions.googleapis.com [none]
[debug] [2025-04-10T00:27:18.958Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:27:18.960Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/runtimeconfig.googleapis.com [none]
[debug] [2025-04-10T00:27:18.961Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:27:18.963Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudbuild.googleapis.com [none]
[debug] [2025-04-10T00:27:18.963Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudbuild.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:27:18.964Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/artifactregistry.googleapis.com [none]
[debug] [2025-04-10T00:27:18.965Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/artifactregistry.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:27:19.550Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/artifactregistry.googleapis.com 200
[debug] [2025-04-10T00:27:19.550Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-04-10T00:27:20.355Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudfunctions.googleapis.com 200
[debug] [2025-04-10T00:27:20.355Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-04-10T00:27:20.390Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/runtimeconfig.googleapis.com 200
[debug] [2025-04-10T00:27:20.391Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-04-10T00:27:20.391Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudbuild.googleapis.com 200
[debug] [2025-04-10T00:27:20.392Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-04-10T00:27:20.392Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:20.392Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:20.392Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/jamessquarebookings/adminSdkConfig [none]
[debug] [2025-04-10T00:27:21.228Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/jamessquarebookings/adminSdkConfig 200
[debug] [2025-04-10T00:27:21.228Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/jamessquarebookings/adminSdkConfig {"projectId":"jamessquarebookings","databaseURL":"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"jamessquarebookings.firebasestorage.app"}
[debug] [2025-04-10T00:27:21.229Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:21.229Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:21.229Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs [none]
[debug] [2025-04-10T00:27:21.837Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs 200
[debug] [2025-04-10T00:27:21.837Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs {"configs":[{"name":"projects/jamessquarebookings/configs/resend"}]}
[debug] [2025-04-10T00:27:21.838Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:21.838Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:21.838Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables [none]
[debug] [2025-04-10T00:27:22.262Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables 200
[debug] [2025-04-10T00:27:22.262Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables {"variables":[{"name":"projects/jamessquarebookings/configs/resend/variables/api_key","updateTime":"2025-04-09T15:38:56.326430028Z"}]}
[debug] [2025-04-10T00:27:22.263Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:22.263Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:22.263Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables/api_key [none]
[debug] [2025-04-10T00:27:22.655Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables/api_key 200
[debug] [2025-04-10T00:27:22.656Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables/api_key {"name":"projects/jamessquarebookings/configs/resend/variables/api_key","updateTime":"2025-04-09T15:38:56.326430028Z","text":"re_jScpRRyK_MWPMeCgcjJB6opm4V4BeU8Ce"}
[debug] [2025-04-10T00:27:22.658Z] Validating nodejs source
[debug] [2025-04-10T00:27:23.462Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^13.2.0",
    "firebase-functions": "^6.3.2"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-04-10T00:27:23.462Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-04-10T00:27:23.463Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-10T00:27:23.469Z] Found firebase-functions binary at '/Users/macbookair/Documents/James Square Website Folder/james-square-booking/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8106

[debug] [2025-04-10T00:27:24.425Z] Got response from /__/functions.yaml {"endpoints":{"sendBookingReminders":{"availableMemoryMb":256,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","cpu":1,"region":["europe-west1"],"labels":{},"scheduleTrigger":{"schedule":"0 7 * * *","retryConfig":{},"timeZone":"Europe/London"},"entryPoint":"sendBookingReminders"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-04-10T00:27:28.453Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:28.454Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:28.454Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/firebaseextensions.googleapis.com [none]
[debug] [2025-04-10T00:27:28.454Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:27:29.854Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/firebaseextensions.googleapis.com 200
[debug] [2025-04-10T00:27:29.855Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/firebaseextensions.googleapis.com [omitted]
[info] ✔  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2025-04-10T00:27:29.855Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-04-10T00:27:29.855Z] > authorizing via signed-in user (jrwishart93@gmail.com)
[debug] [2025-04-10T00:27:29.855Z] [iam] checking project jamessquarebookings for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-04-10T00:27:29.856Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:29.856Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:29.856Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions [none]
[debug] [2025-04-10T00:27:29.856Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:27:29.856Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-04-10T00:27:30.961Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions 200
[debug] [2025-04-10T00:27:30.962Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-04-10T00:27:30.962Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:30.962Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:30.963Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/jamessquarebookings/instances pageSize=100&pageToken=
[debug] [2025-04-10T00:27:32.544Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/jamessquarebookings/instances 200
[debug] [2025-04-10T00:27:32.545Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/jamessquarebookings/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/macbookair/Documents/James Square Website Folder/james-square-booking/functions (64.38 KB) for uploading 
[debug] [2025-04-10T00:27:32.584Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:32.584Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:32.584Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/jamessquarebookings/locations/-/functions [none]
[debug] [2025-04-10T00:27:33.597Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/jamessquarebookings/locations/-/functions 200
[debug] [2025-04-10T00:27:33.597Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/jamessquarebookings/locations/-/functions {}
[debug] [2025-04-10T00:27:33.597Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:33.597Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:33.598Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-04-10T00:27:35.242Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/-/functions 200
[debug] [2025-04-10T00:27:35.244Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/-/functions {"functions":[{"name":"projects/jamessquarebookings/locations/us-central1/functions/sendBookingReminders","buildConfig":{"build":"projects/310610178744/locations/us-central1/builds/7c84b820-f7d5-4121-94c3-a05b92da4e06","runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-us-central1","object":"sendBookingReminders/function-source.zip","generation":"1744243602081797"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/us-central1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/us-central1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"maxInstanceCount":100,"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00004-qin","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-04-10T00:08:09.423665290Z","labels":{"deployment-scheduled":"true","firebase-functions-hash":"2168115d89333ad4ea1037cff2781f79a68eeb36","deployment-tool":"cli-firebase"},"environment":"GEN_2","url":"https://us-central1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","createTime":"2025-04-09T23:42:35.404980178Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API cloudscheduler.googleapis.com is enabled... 
[debug] [2025-04-10T00:27:35.249Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:35.249Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:35.249Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudscheduler.googleapis.com [none]
[debug] [2025-04-10T00:27:35.249Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudscheduler.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:27:35.832Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudscheduler.googleapis.com 200
[debug] [2025-04-10T00:27:35.833Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudscheduler.googleapis.com [omitted]
[info] ✔  functions: required API cloudscheduler.googleapis.com is enabled 
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2025-04-10T00:27:35.833Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:35.834Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2025-04-10T00:27:35.834Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:35.834Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2025-04-10T00:27:35.834Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:35.834Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2025-04-10T00:27:35.834Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:35.834Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:35.834Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/run.googleapis.com [none]
[debug] [2025-04-10T00:27:35.835Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/run.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:27:35.835Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/eventarc.googleapis.com [none]
[debug] [2025-04-10T00:27:35.835Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/eventarc.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:27:35.837Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/pubsub.googleapis.com [none]
[debug] [2025-04-10T00:27:35.837Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/pubsub.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:27:35.838Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/storage.googleapis.com [none]
[debug] [2025-04-10T00:27:35.838Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/storage.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:27:36.397Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/pubsub.googleapis.com 200
[debug] [2025-04-10T00:27:36.397Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/pubsub.googleapis.com [omitted]
[info] ✔  functions: required API pubsub.googleapis.com is enabled 
[debug] [2025-04-10T00:27:36.676Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/run.googleapis.com 200
[debug] [2025-04-10T00:27:36.676Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/run.googleapis.com [omitted]
[info] ✔  functions: required API run.googleapis.com is enabled 
[debug] [2025-04-10T00:27:37.259Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/storage.googleapis.com 200
[debug] [2025-04-10T00:27:37.259Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/storage.googleapis.com [omitted]
[info] ✔  functions: required API storage.googleapis.com is enabled 
[debug] [2025-04-10T00:27:37.574Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/eventarc.googleapis.com 200
[debug] [2025-04-10T00:27:37.574Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/eventarc.googleapis.com [omitted]
[info] ✔  functions: required API eventarc.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-04-10T00:27:37.575Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:37.575Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-04-10T00:27:37.575Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:37.575Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:37.575Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-04-10T00:27:37.576Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-04-10T00:27:38.036Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-04-10T00:27:38.036Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-310610178744@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"111420325653517524147"}}
[debug] [2025-04-10T00:27:38.037Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-04-10T00:27:38.037Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-310610178744@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"104019192513188928983"}}
[debug] [2025-04-10T00:27:38.039Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:38.039Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:38.039Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings [none]
[debug] [2025-04-10T00:27:39.210Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings 200
[debug] [2025-04-10T00:27:39.211Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings {"projectNumber":"310610178744","projectId":"jamessquarebookings","lifecycleState":"ACTIVE","name":"JamesSquareBookings","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-04-02T23:19:17.824610Z"}
[debug] [2025-04-10T00:27:39.212Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:39.212Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:39.212Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/jamessquarebookings/billingInfo [none]
[debug] [2025-04-10T00:27:41.025Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/jamessquarebookings/billingInfo 200
[debug] [2025-04-10T00:27:41.025Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/jamessquarebookings/billingInfo {"name":"projects/jamessquarebookings/billingInfo","projectId":"jamessquarebookings","billingAccountName":"billingAccounts/012001-FEC581-4622EF","billingEnabled":true}
[debug] [2025-04-10T00:27:41.027Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:41.027Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:27:41.027Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions:generateUploadUrl [none]
[debug] [2025-04-10T00:27:44.777Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions:generateUploadUrl 200
[debug] [2025-04-10T00:27:44.778Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/fd9a707f-4672-4000-a607-390789e9a3df.zip?GoogleAccessId=service-310610178744@gcf-admin-robot.iam.gserviceaccount.com&Expires=1744246664&Signature=Io%2F9xhV9fEyTDrg5%2BE8Xht3YItOI3UphC9cgldk7SxzxIe0yH4p1GMrl6ygOFEeiQgxBdoOu%2BLzykBgme0YrKuZPWcebw6vFZgxG8q7bNIohtnqCWwMLsbUDTfZMa8QkkNQpV6WHZJkFSO91opDD33sVw1gfXb2ygZmamdUMXWEmP3k%2FPfa0S4oOV%2Bu7%2BXUx3OTz4U3MsmC7DCZuU2d%2ByPfbyygHbqqe2V98lc9MqJWSCXtcyRCCyO%2B9tnCmMHoecCOwGXI%2FhlGXGVr2x%2BvSidneWoE2mTH6mBuaiIqAdGnpvk8x9SXjd%2BzQfqHslLMa1s2yXOqp2CjyfPhQsKmpfQ%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com","object":"fd9a707f-4672-4000-a607-390789e9a3df.zip"}}
[debug] [2025-04-10T00:27:44.780Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/fd9a707f-4672-4000-a607-390789e9a3df.zip GoogleAccessId=service-310610178744%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1744246664&Signature=Io%2F9xhV9fEyTDrg5%2BE8Xht3YItOI3UphC9cgldk7SxzxIe0yH4p1GMrl6ygOFEeiQgxBdoOu%2BLzykBgme0YrKuZPWcebw6vFZgxG8q7bNIohtnqCWwMLsbUDTfZMa8QkkNQpV6WHZJkFSO91opDD33sVw1gfXb2ygZmamdUMXWEmP3k%2FPfa0S4oOV%2Bu7%2BXUx3OTz4U3MsmC7DCZuU2d%2ByPfbyygHbqqe2V98lc9MqJWSCXtcyRCCyO%2B9tnCmMHoecCOwGXI%2FhlGXGVr2x%2BvSidneWoE2mTH6mBuaiIqAdGnpvk8x9SXjd%2BzQfqHslLMa1s2yXOqp2CjyfPhQsKmpfQ%3D%3D
[debug] [2025-04-10T00:27:44.780Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/fd9a707f-4672-4000-a607-390789e9a3df.zip [stream]
[debug] [2025-04-10T00:27:47.592Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/fd9a707f-4672-4000-a607-390789e9a3df.zip 200
[debug] [2025-04-10T00:27:47.592Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/fd9a707f-4672-4000-a607-390789e9a3df.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] 
The following functions are found in your project but do not exist in your local source code:
	sendBookingReminders(us-central1)

If you are renaming a function or changing its region, it is recommended that you create the new function first before deleting the old one to prevent event loss. For more info, visit https://firebase.google.com/docs/functions/manage-functions#modify

[info] i  functions: creating Node.js 20 (2nd Gen) function sendBookingReminders(europe-west1)... 
[debug] [2025-04-10T00:28:41.155Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:28:41.155Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: deleting Node.js 20 (2nd Gen) function sendBookingReminders(us-central1)... 
[debug] [2025-04-10T00:28:41.156Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:28:41.156Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:28:41.156Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions functionId=sendBookingReminders
[debug] [2025-04-10T00:28:41.156Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions {"name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com","object":"fd9a707f-4672-4000-a607-390789e9a3df.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"342bd044682dd450746705612dde3e3aeff4f6f2"}}
[debug] [2025-04-10T00:28:41.158Z] >>> [apiv2][query] DELETE https://cloudscheduler.googleapis.com/v1/projects/jamessquarebookings/locations/us-central1/jobs/firebase-schedule-sendBookingReminders-us-central1 [none]
[debug] [2025-04-10T00:28:45.095Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions 200
[debug] [2025-04-10T00:28:45.095Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:28:44.942531572Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"create","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-04-10T00:28:45.096Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:28:45.096Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:28:45.097Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d [none]
[debug] [2025-04-10T00:28:46.668Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d 200
[debug] [2025-04-10T00:28:46.668Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:28:44.942531572Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744244924584904"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"342bd044682dd450746705612dde3e3aeff4f6f2"},"environment":"GEN_2"},"stages":[{"name":"BUILD","state":"NOT_STARTED"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2025-04-10T00:28:46.775Z] <<< [apiv2][status] DELETE https://cloudscheduler.googleapis.com/v1/projects/jamessquarebookings/locations/us-central1/jobs/firebase-schedule-sendBookingReminders-us-central1 404
[debug] [2025-04-10T00:28:46.775Z] <<< [apiv2][body] DELETE https://cloudscheduler.googleapis.com/v1/projects/jamessquarebookings/locations/us-central1/jobs/firebase-schedule-sendBookingReminders-us-central1 {"error":{"code":404,"message":"Job not found.","status":"NOT_FOUND"}}
[error] Request to https://cloudscheduler.googleapis.com/v1/projects/jamessquarebookings/locations/us-central1/jobs/firebase-schedule-sendBookingReminders-us-central1 had HTTP Error: 404, Job not found.
[debug] [2025-04-10T00:28:47.169Z] [create-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:28:47.170Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:28:47.170Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:28:47.170Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d [none]
[debug] [2025-04-10T00:28:48.758Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d 200
[debug] [2025-04-10T00:28:48.759Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:28:44.942531572Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744244924584904"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"342bd044682dd450746705612dde3e3aeff4f6f2"},"environment":"GEN_2"},"stages":[{"name":"BUILD","state":"NOT_STARTED"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2025-04-10T00:28:49.760Z] [create-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:28:49.761Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:28:49.761Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:28:49.761Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d [none]
[debug] [2025-04-10T00:28:51.395Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d 200
[debug] [2025-04-10T00:28:51.395Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:28:44.942531572Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744244924584904"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"342bd044682dd450746705612dde3e3aeff4f6f2"},"environment":"GEN_2"},"stages":[{"name":"BUILD","state":"NOT_STARTED"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2025-04-10T00:28:53.397Z] [create-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:28:53.398Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:28:53.398Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:28:53.398Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d [none]
[debug] [2025-04-10T00:28:55.007Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d 200
[debug] [2025-04-10T00:28:55.008Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:28:44.942531572Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744244924584904"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"342bd044682dd450746705612dde3e3aeff4f6f2"},"environment":"GEN_2"},"stages":[{"name":"BUILD","state":"NOT_STARTED"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2025-04-10T00:28:59.009Z] [create-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:28:59.009Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:28:59.009Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:28:59.010Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d [none]
[debug] [2025-04-10T00:29:00.638Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d 200
[debug] [2025-04-10T00:29:00.639Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:28:44.942531572Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744244924584904"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"342bd044682dd450746705612dde3e3aeff4f6f2"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/5b0029ff-d4c7-4fa6-b148-8135ad4a5d90","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/5b0029ff-d4c7-4fa6-b148-8135ad4a5d90?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/5b0029ff-d4c7-4fa6-b148-8135ad4a5d90"},"done":false}
[debug] [2025-04-10T00:29:08.640Z] [create-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:29:08.640Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:29:08.640Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:29:08.640Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d [none]
[debug] [2025-04-10T00:29:10.675Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d 200
[debug] [2025-04-10T00:29:10.675Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:28:44.942531572Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744244924584904"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"342bd044682dd450746705612dde3e3aeff4f6f2"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/5b0029ff-d4c7-4fa6-b148-8135ad4a5d90","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/5b0029ff-d4c7-4fa6-b148-8135ad4a5d90?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/5b0029ff-d4c7-4fa6-b148-8135ad4a5d90"},"done":false}
[debug] [2025-04-10T00:29:20.677Z] [create-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:29:20.677Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:29:20.677Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:29:20.678Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d [none]
[debug] [2025-04-10T00:29:22.553Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d 200
[debug] [2025-04-10T00:29:22.553Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:28:44.942531572Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744244924584904"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"342bd044682dd450746705612dde3e3aeff4f6f2"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/5b0029ff-d4c7-4fa6-b148-8135ad4a5d90","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/5b0029ff-d4c7-4fa6-b148-8135ad4a5d90?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/5b0029ff-d4c7-4fa6-b148-8135ad4a5d90"},"done":false}
[debug] [2025-04-10T00:29:32.555Z] [create-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:29:32.557Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:29:32.558Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:29:32.561Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d [none]
[debug] [2025-04-10T00:29:34.368Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d 200
[debug] [2025-04-10T00:29:34.368Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:28:44.942531572Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744244924584904"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"342bd044682dd450746705612dde3e3aeff4f6f2"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/5b0029ff-d4c7-4fa6-b148-8135ad4a5d90","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/5b0029ff-d4c7-4fa6-b148-8135ad4a5d90?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/5b0029ff-d4c7-4fa6-b148-8135ad4a5d90"},"done":false}
[debug] [2025-04-10T00:29:44.369Z] [create-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:29:44.372Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:29:44.372Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:29:44.373Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d [none]
[debug] [2025-04-10T00:29:46.210Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d 200
[debug] [2025-04-10T00:29:46.210Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:28:44.942531572Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744244924584904"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"342bd044682dd450746705612dde3e3aeff4f6f2"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/310610178744/locations/europe-west1/builds/5b0029ff-d4c7-4fa6-b148-8135ad4a5d90","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/5b0029ff-d4c7-4fa6-b148-8135ad4a5d90?project=310610178744"},{"name":"SERVICE","message":"Creating Cloud Run service","state":"IN_PROGRESS","resource":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","resourceUri":"https://console.cloud.google.com/run/detail/europe-west1/sendbookingreminders?project=jamessquarebookings"}],"sourceToken":"Clhwcm9qZWN0cy8zMTA2MTAxNzg3NDQvbG9jYXRpb25zL2V1cm9wZS13ZXN0MS9idWlsZHMvNWIwMDI5ZmYtZDRjNy00ZmE2LWIxNDgtODEzNWFkNGE1ZDkwEoIBZXVyb3BlLXdlc3QxLWRvY2tlci5wa2cuZGV2L2phbWVzc3F1YXJlYm9va2luZ3MvZ2NmLWFydGlmYWN0cy9qYW1lc3NxdWFyZWJvb2tpbmdzX19ldXJvcGUtLXdlc3QxX19zZW5kX2Jvb2tpbmdfcmVtaW5kZXJzOnZlcnNpb25fMRi45byOhQkiUnByb2plY3RzL2phbWVzc3F1YXJlYm9va2luZ3MvbG9jYXRpb25zL2V1cm9wZS13ZXN0MS9mdW5jdGlvbnMvc2VuZEJvb2tpbmdSZW1pbmRlcnMqDAj2ody/BhCIjdWpATIIbm9kZWpzMjA6dwojZ2NyLmlvL2dhZS1ydW50aW1lcy9ub2RlanMyMDpzdGFibGUSUGV1cm9wZS13ZXN0MS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"CREATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/5b0029ff-d4c7-4fa6-b148-8135ad4a5d90"},"done":false}
[debug] [2025-04-10T00:29:46.211Z] Got source token Clhwcm9qZWN0cy8zMTA2MTAxNzg3NDQvbG9jYXRpb25zL2V1cm9wZS13ZXN0MS9idWlsZHMvNWIwMDI5ZmYtZDRjNy00ZmE2LWIxNDgtODEzNWFkNGE1ZDkwEoIBZXVyb3BlLXdlc3QxLWRvY2tlci5wa2cuZGV2L2phbWVzc3F1YXJlYm9va2luZ3MvZ2NmLWFydGlmYWN0cy9qYW1lc3NxdWFyZWJvb2tpbmdzX19ldXJvcGUtLXdlc3QxX19zZW5kX2Jvb2tpbmdfcmVtaW5kZXJzOnZlcnNpb25fMRi45byOhQkiUnByb2plY3RzL2phbWVzc3F1YXJlYm9va2luZ3MvbG9jYXRpb25zL2V1cm9wZS13ZXN0MS9mdW5jdGlvbnMvc2VuZEJvb2tpbmdSZW1pbmRlcnMqDAj2ody/BhCIjdWpATIIbm9kZWpzMjA6dwojZ2NyLmlvL2dhZS1ydW50aW1lcy9ub2RlanMyMDpzdGFibGUSUGV1cm9wZS13ZXN0MS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region europe-west1
[debug] [2025-04-10T00:29:56.213Z] [create-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:29:56.214Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:29:56.214Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:29:56.214Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d [none]
[debug] [2025-04-10T00:29:58.050Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d 200
[debug] [2025-04-10T00:29:58.050Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:28:44.942531572Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744244924584904"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"342bd044682dd450746705612dde3e3aeff4f6f2"},"environment":"GEN_2"},"stages":[{"name":"ARTIFACT_REGISTRY","state":"NOT_STARTED"},{"name":"SERVICE","message":"Deleting Cloud Run service","state":"IN_PROGRESS","resource":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2025-04-10T00:30:08.052Z] [create-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:30:08.053Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:30:08.053Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:30:08.053Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d [none]
[debug] [2025-04-10T00:30:09.862Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d 200
[debug] [2025-04-10T00:30:09.862Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744244922766-63261ab05d2fc-9d52e90a-b942b73d","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:28:44.942531572Z","endTime":"2025-04-10T00:29:59.058644383Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744244924584904"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"342bd044682dd450746705612dde3e3aeff4f6f2"},"environment":"GEN_2"},"stages":[{"name":"ARTIFACT_REGISTRY","message":"Deleting function artifacts in Artifact Registry","state":"COMPLETE"},{"name":"SERVICE","message":"Deleting Cloud Run service","state":"COMPLETE","resource":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders"}],"operationType":"CREATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service sendbookingreminders, Container Healthcheck failed. Revision 'sendbookingreminders-00001-tek' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=jamessquarebookings&resource=cloud_run_revision/service_name/sendbookingreminders/revision_name/sendbookingreminders-00001-tek&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbookingreminders%22%0Aresource.labels.revision_name%3D%22sendbookingreminders-00001-tek%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2025-04-10T00:30:09.862Z] Got source token undefined for region europe-west1
[error] Could not create or update Cloud Run service sendbookingreminders, Container Healthcheck failed. Revision 'sendbookingreminders-00001-tek' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=jamessquarebookings&resource=cloud_run_revision/service_name/sendbookingreminders/revision_name/sendbookingreminders-00001-tek&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbookingreminders%22%0Aresource.labels.revision_name%3D%22sendbookingreminders-00001-tek%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2025-04-10T00:30:09.874Z] Total Function Deployment time: 88713
[debug] [2025-04-10T00:30:09.874Z] 2 Functions Deployed
[debug] [2025-04-10T00:30:09.874Z] 2 Functions Errored
[debug] [2025-04-10T00:30:09.874Z] 0 Function Deployments Aborted
[debug] [2025-04-10T00:30:09.874Z] Average Function Deployment time: 47165.5
[info] 
[info] Functions deploy had errors with the following functions:
	sendBookingReminders(europe-west1)
	sendBookingReminders(us-central1)
[debug] [2025-04-10T00:30:10.453Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:30:10.453Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:30:10.453Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts [none]
[debug] [2025-04-10T00:30:12.524Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts 200
[debug] [2025-04-10T00:30:12.525Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts {"name":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-04-10T00:28:54.431684Z","updateTime":"2025-04-10T00:29:58.940343Z","mode":"STANDARD_REPOSITORY","sizeBytes":"84579693","vulnerabilityScanningConfig":{"lastEnableTime":"2025-04-10T00:28:45.105407807Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"europe-west1-docker.pkg.dev/jamessquarebookings/gcf-artifacts"}
[warn] ⚠  functions: No cleanup policy detected for repositories in europe-west1. This may result in a small monthly bill as container images accumulate over time. 
[info] i  functions: Configuring cleanup policy for repository in europe-west1. Images older than 1 days will be automatically deleted. 
[debug] [2025-04-10T00:33:38.073Z] Setting up artifact cleanup policy for region europe-west1
[debug] [2025-04-10T00:33:38.074Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:33:38.074Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:33:38.075Z] >>> [apiv2][query] PATCH https://artifactregistry.googleapis.com/v1/projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts updateMask=name%2CcleanupPolicies%2Clabels
[debug] [2025-04-10T00:33:38.075Z] >>> [apiv2][body] PATCH https://artifactregistry.googleapis.com/v1/projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts {"name":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","condition":{"tagState":"ANY","olderThan":"86400s"},"action":"DELETE"}},"labels":{"goog-managed-by":"cloudfunctions"}}
[debug] [2025-04-10T00:33:39.887Z] <<< [apiv2][status] PATCH https://artifactregistry.googleapis.com/v1/projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts 200
[debug] [2025-04-10T00:33:39.887Z] <<< [apiv2][body] PATCH https://artifactregistry.googleapis.com/v1/projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts {"name":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-04-10T00:28:54.431684Z","updateTime":"2025-04-10T00:33:39.717229Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"86400s"}}},"vulnerabilityScanningConfig":{"lastEnableTime":"2025-04-10T00:28:45.105407807Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true}
[info] i  functions: Configured cleanup policy for repository in europe-west1. 
[debug] [2025-04-10T00:33:39.888Z] Functions deploy failed.
[debug] [2025-04-10T00:33:39.888Z] {
  "endpoint": {
    "platform": "gcfv2",
    "id": "sendBookingReminders",
    "project": "jamessquarebookings",
    "region": "us-central1",
    "scheduleTrigger": {},
    "entryPoint": "sendBookingReminders",
    "runtime": "nodejs20",
    "source": {
      "storageSource": {
        "bucket": "gcf-v2-sources-310610178744-us-central1",
        "object": "sendBookingReminders/function-source.zip",
        "generation": "1744243602081797"
      }
    },
    "ingressSettings": "ALLOW_ALL",
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "jamessquarebookings",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/jamessquarebookings/locations/us-central1/services/sendBookingReminders",
      "FUNCTION_TARGET": "sendBookingReminders",
      "LOG_EXECUTION_ID": "true"
    },
    "timeoutSeconds": 60,
    "serviceAccount": "310610178744-compute@developer.gserviceaccount.com",
    "availableMemoryMb": 256,
    "cpu": 1,
    "maxInstances": 100,
    "concurrency": 80,
    "labels": {
      "deployment-scheduled": "true",
      "firebase-functions-hash": "2168115d89333ad4ea1037cff2781f79a68eeb36",
      "deployment-tool": "cli-firebase"
    },
    "runServiceId": "sendbookingreminders",
    "uri": "https://us-central1-jamessquarebookings.cloudfunctions.net/sendBookingReminders",
    "codebase": "default",
    "hash": "2168115d89333ad4ea1037cff2781f79a68eeb36",
    "state": "ACTIVE"
  },
  "op": "delete schedule",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "context": {
      "body": {
        "error": {
          "code": 404,
          "message": "Job not found.",
          "status": "NOT_FOUND"
        }
      },
      "response": {
        "statusCode": 404
      }
    },
    "exit": 1,
    "message": "Request to https://cloudscheduler.googleapis.com/v1/projects/jamessquarebookings/locations/us-central1/jobs/firebase-schedule-sendBookingReminders-us-central1 had HTTP Error: 404, Job not found.",
    "status": 404,
    "code": 404
  }
}
[debug] [2025-04-10T00:33:39.888Z] {
  "endpoint": {
    "id": "sendBookingReminders",
    "project": "jamessquarebookings",
    "region": "europe-west1",
    "entryPoint": "sendBookingReminders",
    "platform": "gcfv2",
    "runtime": "nodejs20",
    "scheduleTrigger": {
      "schedule": "0 7 * * *",
      "timeZone": "Europe/London",
      "retryConfig": {}
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": 256,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "cpu": 1,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "jamessquarebookings",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders"
    },
    "codebase": "default",
    "targetedByOnly": false,
    "hash": "342bd044682dd450746705612dde3e3aeff4f6f2"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service sendbookingreminders, Container Healthcheck failed. Revision 'sendbookingreminders-00001-tek' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=jamessquarebookings&resource=cloud_run_revision/service_name/sendbookingreminders/revision_name/sendbookingreminders-00001-tek&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbookingreminders%22%0Aresource.labels.revision_name%3D%22sendbookingreminders-00001-tek%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service sendbookingreminders, Container Healthcheck failed. Revision 'sendbookingreminders-00001-tek' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=jamessquarebookings&resource=cloud_run_revision/service_name/sendbookingreminders/revision_name/sendbookingreminders-00001-tek&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbookingreminders%22%0Aresource.labels.revision_name%3D%22sendbookingreminders-00001-tek%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[error] Error: There was an error deploying functions:
[error] - Error Failed to delete schedule function sendBookingReminders in region us-central1
[error] - Error Failed to create function sendBookingReminders in region europe-west1
[debug] [2025-04-10T00:34:14.825Z] ----------------------------------------------------------------------
[debug] [2025-04-10T00:34:14.832Z] Command:       /opt/homebrew/Cellar/node/23.10.0_1/bin/node /opt/homebrew/bin/firebase deploy --only functions
[debug] [2025-04-10T00:34:14.832Z] CLI Version:   14.1.0
[debug] [2025-04-10T00:34:14.832Z] Platform:      darwin
[debug] [2025-04-10T00:34:14.832Z] Node Version:  v23.10.0
[debug] [2025-04-10T00:34:14.833Z] Time:          Thu Apr 10 2025 10:34:14 GMT+1000 (Australian Eastern Standard Time)
[debug] [2025-04-10T00:34:14.833Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-04-10T00:34:14.966Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-04-10T00:34:14.966Z] > authorizing via signed-in user (jrwishart93@gmail.com)
[debug] [2025-04-10T00:34:14.966Z] [iam] checking project jamessquarebookings for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-04-10T00:34:14.967Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:14.967Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:14.968Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions [none]
[debug] [2025-04-10T00:34:14.968Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:34:14.968Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-04-10T00:34:16.325Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions 200
[debug] [2025-04-10T00:34:16.325Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-04-10T00:34:16.325Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:16.325Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:16.326Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/jamessquarebookings/serviceAccounts/jamessquarebookings@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-04-10T00:34:16.326Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/jamessquarebookings/serviceAccounts/jamessquarebookings@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-04-10T00:34:17.892Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/jamessquarebookings/serviceAccounts/jamessquarebookings@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-04-10T00:34:17.892Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/jamessquarebookings/serviceAccounts/jamessquarebookings@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'jamessquarebookings'...
[info] 
[info] i  deploying functions 
[debug] [2025-04-10T00:34:17.897Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:17.897Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:17.897Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings [none]
[debug] [2025-04-10T00:34:18.190Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings 200
[debug] [2025-04-10T00:34:18.191Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings {"projectNumber":"310610178744","projectId":"jamessquarebookings","lifecycleState":"ACTIVE","name":"JamesSquareBookings","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-04-02T23:19:17.824610Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-04-10T00:34:18.193Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:18.193Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:18.193Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:18.193Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-04-10T00:34:18.193Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:18.193Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-04-10T00:34:18.194Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:18.194Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:18.194Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudfunctions.googleapis.com [none]
[debug] [2025-04-10T00:34:18.194Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:34:18.197Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/runtimeconfig.googleapis.com [none]
[debug] [2025-04-10T00:34:18.197Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:34:18.199Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudbuild.googleapis.com [none]
[debug] [2025-04-10T00:34:18.199Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudbuild.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:34:18.200Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/artifactregistry.googleapis.com [none]
[debug] [2025-04-10T00:34:18.200Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/artifactregistry.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:34:18.996Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudbuild.googleapis.com 200
[debug] [2025-04-10T00:34:18.996Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-04-10T00:34:19.006Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/artifactregistry.googleapis.com 200
[debug] [2025-04-10T00:34:19.007Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-04-10T00:34:19.929Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/runtimeconfig.googleapis.com 200
[debug] [2025-04-10T00:34:19.929Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-04-10T00:34:19.930Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudfunctions.googleapis.com 200
[debug] [2025-04-10T00:34:19.930Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-04-10T00:34:19.931Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:19.931Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:19.931Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/jamessquarebookings/adminSdkConfig [none]
[debug] [2025-04-10T00:34:20.973Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/jamessquarebookings/adminSdkConfig 200
[debug] [2025-04-10T00:34:20.973Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/jamessquarebookings/adminSdkConfig {"projectId":"jamessquarebookings","databaseURL":"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"jamessquarebookings.firebasestorage.app"}
[debug] [2025-04-10T00:34:20.974Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:20.974Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:20.974Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs [none]
[debug] [2025-04-10T00:34:21.873Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs 200
[debug] [2025-04-10T00:34:21.874Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs {"configs":[{"name":"projects/jamessquarebookings/configs/resend"}]}
[debug] [2025-04-10T00:34:21.875Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:21.875Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:21.875Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables [none]
[debug] [2025-04-10T00:34:22.277Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables 200
[debug] [2025-04-10T00:34:22.278Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables {"variables":[{"name":"projects/jamessquarebookings/configs/resend/variables/api_key","updateTime":"2025-04-09T15:38:56.326430028Z"}]}
[debug] [2025-04-10T00:34:22.278Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:22.278Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:22.278Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables/api_key [none]
[debug] [2025-04-10T00:34:22.691Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables/api_key 200
[debug] [2025-04-10T00:34:22.691Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables/api_key {"name":"projects/jamessquarebookings/configs/resend/variables/api_key","updateTime":"2025-04-09T15:38:56.326430028Z","text":"re_jScpRRyK_MWPMeCgcjJB6opm4V4BeU8Ce"}
[debug] [2025-04-10T00:34:22.693Z] Validating nodejs source
[debug] [2025-04-10T00:34:23.545Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^13.2.0",
    "firebase-functions": "^6.3.2"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-04-10T00:34:23.545Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-04-10T00:34:23.546Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-10T00:34:23.552Z] Found firebase-functions binary at '/Users/macbookair/Documents/James Square Website Folder/james-square-booking/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8987

[debug] [2025-04-10T00:34:24.004Z] Got response from /__/functions.yaml {"endpoints":{"sendBookingReminders":{"availableMemoryMb":256,"timeoutSeconds":60,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":"firebase-adminsdk@jamessquarebookings.iam.gserviceaccount.com","vpc":null,"platform":"gcfv2","cpu":1,"region":["europe-west1"],"labels":{},"scheduleTrigger":{"schedule":"0 7 * * *","retryConfig":{},"timeZone":"Europe/London"},"entryPoint":"sendBookingReminders"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-04-10T00:34:28.029Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:28.029Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:28.029Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/firebaseextensions.googleapis.com [none]
[debug] [2025-04-10T00:34:28.029Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:34:29.450Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/firebaseextensions.googleapis.com 200
[debug] [2025-04-10T00:34:29.450Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/firebaseextensions.googleapis.com [omitted]
[info] ✔  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2025-04-10T00:34:29.451Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-04-10T00:34:29.451Z] > authorizing via signed-in user (jrwishart93@gmail.com)
[debug] [2025-04-10T00:34:29.451Z] [iam] checking project jamessquarebookings for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-04-10T00:34:29.451Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:29.451Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:29.451Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions [none]
[debug] [2025-04-10T00:34:29.452Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:34:29.452Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-04-10T00:34:29.874Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions 200
[debug] [2025-04-10T00:34:29.875Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-04-10T00:34:29.875Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:29.875Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:29.876Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/jamessquarebookings/instances pageSize=100&pageToken=
[debug] [2025-04-10T00:34:31.395Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/jamessquarebookings/instances 200
[debug] [2025-04-10T00:34:31.395Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/jamessquarebookings/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/macbookair/Documents/James Square Website Folder/james-square-booking/functions (93.34 KB) for uploading 
[debug] [2025-04-10T00:34:34.944Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:34.944Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:34.944Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/jamessquarebookings/locations/-/functions [none]
[debug] [2025-04-10T00:34:35.927Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/jamessquarebookings/locations/-/functions 200
[debug] [2025-04-10T00:34:35.928Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/jamessquarebookings/locations/-/functions {}
[debug] [2025-04-10T00:34:35.928Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:35.928Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:35.929Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-04-10T00:34:37.641Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/-/functions 200
[debug] [2025-04-10T00:34:37.642Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/-/functions {"functions":[{"name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"build":"projects/310610178744/locations/europe-west1/builds/5b0029ff-d4c7-4fa6-b148-8135ad4a5d90","runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744244924584904"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744244924584904"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2025-04-10T00:29:59.064255892Z","labels":{"firebase-functions-hash":"342bd044682dd450746705612dde3e3aeff4f6f2","deployment-tool":"cli-firebase","deployment-scheduled":"true"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","createTime":"2025-04-10T00:28:44.939081992Z","satisfiesPzi":true},{"name":"projects/jamessquarebookings/locations/us-central1/functions/sendBookingReminders","buildConfig":{"build":"projects/310610178744/locations/us-central1/builds/7c84b820-f7d5-4121-94c3-a05b92da4e06","runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-us-central1","object":"sendBookingReminders/function-source.zip","generation":"1744243602081797"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/us-central1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/us-central1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"maxInstanceCount":100,"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00004-qin","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-04-10T00:08:09.423665290Z","labels":{"deployment-scheduled":"true","firebase-functions-hash":"2168115d89333ad4ea1037cff2781f79a68eeb36","deployment-tool":"cli-firebase"},"environment":"GEN_2","url":"https://us-central1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","createTime":"2025-04-09T23:42:35.404980178Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API cloudscheduler.googleapis.com is enabled... 
[debug] [2025-04-10T00:34:37.646Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:37.646Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:37.646Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudscheduler.googleapis.com [none]
[debug] [2025-04-10T00:34:37.646Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudscheduler.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:34:39.176Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudscheduler.googleapis.com 200
[debug] [2025-04-10T00:34:39.176Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudscheduler.googleapis.com [omitted]
[info] ✔  functions: required API cloudscheduler.googleapis.com is enabled 
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2025-04-10T00:34:39.177Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:39.177Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2025-04-10T00:34:39.178Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:39.178Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2025-04-10T00:34:39.178Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:39.178Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2025-04-10T00:34:39.178Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:39.178Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:39.178Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/run.googleapis.com [none]
[debug] [2025-04-10T00:34:39.178Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/run.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:34:39.179Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/eventarc.googleapis.com [none]
[debug] [2025-04-10T00:34:39.179Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/eventarc.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:34:39.181Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/pubsub.googleapis.com [none]
[debug] [2025-04-10T00:34:39.181Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/pubsub.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:34:39.182Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/storage.googleapis.com [none]
[debug] [2025-04-10T00:34:39.182Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/storage.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:34:39.515Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/run.googleapis.com 200
[debug] [2025-04-10T00:34:39.515Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/run.googleapis.com [omitted]
[info] ✔  functions: required API run.googleapis.com is enabled 
[debug] [2025-04-10T00:34:40.616Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/eventarc.googleapis.com 200
[debug] [2025-04-10T00:34:40.616Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/eventarc.googleapis.com [omitted]
[info] ✔  functions: required API eventarc.googleapis.com is enabled 
[debug] [2025-04-10T00:34:40.617Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/pubsub.googleapis.com 200
[debug] [2025-04-10T00:34:40.617Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/pubsub.googleapis.com [omitted]
[info] ✔  functions: required API pubsub.googleapis.com is enabled 
[debug] [2025-04-10T00:34:40.630Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/storage.googleapis.com 200
[debug] [2025-04-10T00:34:40.630Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/storage.googleapis.com [omitted]
[info] ✔  functions: required API storage.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-04-10T00:34:40.631Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:40.631Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-04-10T00:34:40.631Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:40.631Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:40.632Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-04-10T00:34:40.632Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-04-10T00:34:41.058Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-04-10T00:34:41.058Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-310610178744@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"111420325653517524147"}}
[debug] [2025-04-10T00:34:41.099Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-04-10T00:34:41.100Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-310610178744@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"104019192513188928983"}}
[debug] [2025-04-10T00:34:41.102Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:41.102Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:41.102Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings [none]
[debug] [2025-04-10T00:34:42.240Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings 200
[debug] [2025-04-10T00:34:42.240Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings {"projectNumber":"310610178744","projectId":"jamessquarebookings","lifecycleState":"ACTIVE","name":"JamesSquareBookings","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-04-02T23:19:17.824610Z"}
[debug] [2025-04-10T00:34:42.242Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:42.242Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:42.242Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/jamessquarebookings/billingInfo [none]
[debug] [2025-04-10T00:34:44.093Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/jamessquarebookings/billingInfo 200
[debug] [2025-04-10T00:34:44.094Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/jamessquarebookings/billingInfo {"name":"projects/jamessquarebookings/billingInfo","projectId":"jamessquarebookings","billingAccountName":"billingAccounts/012001-FEC581-4622EF","billingEnabled":true}
[debug] [2025-04-10T00:34:44.095Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:44.096Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:34:44.096Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions:generateUploadUrl [none]
[debug] [2025-04-10T00:34:45.912Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions:generateUploadUrl 200
[debug] [2025-04-10T00:34:45.913Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/a24dc008-f79f-4f7d-882e-68491a8c44e1.zip?GoogleAccessId=service-310610178744@gcf-admin-robot.iam.gserviceaccount.com&Expires=1744247085&Signature=EZ3h6joeebwd5eYrVNE%2FEId2iCoJg6G9UcLs1b6qxh9XUMUxlQ6JcQrtFb7jdMkIbkZh%2FuYE08D97gbVUbjbcw76G4D8EtW6aZo%2F4Yzr3uQupGTAj3l7RzZ7JljaTm0sM6IVlKFiwRADV8LrfZxm1RGQNN1E81HXdixmmj%2F0y5kA1gpFJakKGan5Fbgld%2FEc%2Be0bh22LhJrBmQohpqPrucBTIlyFG7W5tFHhfm3mHTcMMMNd3FeVkCxItCIi80MHVerm98OCZExWRvoy6whevRUFKH3Bvp2OnmmXe65wVrVP0egxfmBh5Sa8G42TOs6yBde4xAW5TOLgCzmNWYTmMw%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com","object":"a24dc008-f79f-4f7d-882e-68491a8c44e1.zip"}}
[debug] [2025-04-10T00:34:45.914Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/a24dc008-f79f-4f7d-882e-68491a8c44e1.zip GoogleAccessId=service-310610178744%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1744247085&Signature=EZ3h6joeebwd5eYrVNE%2FEId2iCoJg6G9UcLs1b6qxh9XUMUxlQ6JcQrtFb7jdMkIbkZh%2FuYE08D97gbVUbjbcw76G4D8EtW6aZo%2F4Yzr3uQupGTAj3l7RzZ7JljaTm0sM6IVlKFiwRADV8LrfZxm1RGQNN1E81HXdixmmj%2F0y5kA1gpFJakKGan5Fbgld%2FEc%2Be0bh22LhJrBmQohpqPrucBTIlyFG7W5tFHhfm3mHTcMMMNd3FeVkCxItCIi80MHVerm98OCZExWRvoy6whevRUFKH3Bvp2OnmmXe65wVrVP0egxfmBh5Sa8G42TOs6yBde4xAW5TOLgCzmNWYTmMw%3D%3D
[debug] [2025-04-10T00:34:45.914Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/a24dc008-f79f-4f7d-882e-68491a8c44e1.zip [stream]
[debug] [2025-04-10T00:34:48.803Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/a24dc008-f79f-4f7d-882e-68491a8c44e1.zip 200
[debug] [2025-04-10T00:34:48.804Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/a24dc008-f79f-4f7d-882e-68491a8c44e1.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] 
The following functions are found in your project but do not exist in your local source code:
	sendBookingReminders(us-central1)

If you are renaming a function or changing its region, it is recommended that you create the new function first before deleting the old one to prevent event loss. For more info, visit https://firebase.google.com/docs/functions/manage-functions#modify

[info] i  functions: updating Node.js 20 (2nd Gen) function sendBookingReminders(europe-west1)... 
[debug] [2025-04-10T00:35:03.824Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:35:03.824Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: deleting Node.js 20 (2nd Gen) function sendBookingReminders(us-central1)... 
[debug] [2025-04-10T00:35:03.824Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:35:03.824Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:35:03.825Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2025-04-10T00:35:03.825Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders {"name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com","object":"a24dc008-f79f-4f7d-882e-68491a8c44e1.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":60,"serviceAccountEmail":"firebase-adminsdk@jamessquarebookings.iam.gserviceaccount.com","availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"a67ea26c20990a5ca8b757428f0ee66d77041a27"}}
[debug] [2025-04-10T00:35:03.827Z] >>> [apiv2][query] DELETE https://cloudscheduler.googleapis.com/v1/projects/jamessquarebookings/locations/us-central1/jobs/firebase-schedule-sendBookingReminders-us-central1 [none]
[debug] [2025-04-10T00:35:06.172Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders 404
[debug] [2025-04-10T00:35:06.173Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders {"error":{"code":404,"message":"Service account projects/-/serviceAccounts/firebase-adminsdk@jamessquarebookings.iam.gserviceaccount.com was not found.","status":"NOT_FOUND"}}
[warn] ⚠  functions: Request to https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders?updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables had HTTP Error: 404, Service account projects/-/serviceAccounts/firebase-adminsdk@jamessquarebookings.iam.gserviceaccount.com was not found. 
[warn] ⚠  functions:  failed to update function projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders 
[error] Failed to update function projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders
[debug] [2025-04-10T00:35:11.608Z] <<< [apiv2][status] DELETE https://cloudscheduler.googleapis.com/v1/projects/jamessquarebookings/locations/us-central1/jobs/firebase-schedule-sendBookingReminders-us-central1 404
[debug] [2025-04-10T00:35:11.608Z] <<< [apiv2][body] DELETE https://cloudscheduler.googleapis.com/v1/projects/jamessquarebookings/locations/us-central1/jobs/firebase-schedule-sendBookingReminders-us-central1 {"error":{"code":404,"message":"Job not found.","status":"NOT_FOUND"}}
[error] Request to https://cloudscheduler.googleapis.com/v1/projects/jamessquarebookings/locations/us-central1/jobs/firebase-schedule-sendBookingReminders-us-central1 had HTTP Error: 404, Job not found.
[debug] [2025-04-10T00:35:11.617Z] Total Function Deployment time: 7789
[debug] [2025-04-10T00:35:11.617Z] 2 Functions Deployed
[debug] [2025-04-10T00:35:11.617Z] 2 Functions Errored
[debug] [2025-04-10T00:35:11.617Z] 0 Function Deployments Aborted
[debug] [2025-04-10T00:35:11.617Z] Average Function Deployment time: 5068.5
[info] 
[info] Functions deploy had errors with the following functions:
	sendBookingReminders(europe-west1)
	sendBookingReminders(us-central1)
[debug] [2025-04-10T00:35:11.984Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:35:11.984Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:35:11.984Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts [none]
[debug] [2025-04-10T00:35:13.849Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts 200
[debug] [2025-04-10T00:35:13.849Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts {"name":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-04-10T00:28:54.431684Z","updateTime":"2025-04-10T00:33:39.717229Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"86400s"}}},"sizeBytes":"84579693","vulnerabilityScanningConfig":{"lastEnableTime":"2025-04-10T00:28:45.105407807Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"europe-west1-docker.pkg.dev/jamessquarebookings/gcf-artifacts"}
[debug] [2025-04-10T00:35:13.849Z] Functions deploy failed.
[debug] [2025-04-10T00:35:13.849Z] {
  "endpoint": {
    "id": "sendBookingReminders",
    "project": "jamessquarebookings",
    "region": "europe-west1",
    "entryPoint": "sendBookingReminders",
    "platform": "gcfv2",
    "runtime": "nodejs20",
    "scheduleTrigger": {
      "schedule": "0 7 * * *",
      "timeZone": "Europe/London",
      "retryConfig": {}
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": "firebase-adminsdk@jamessquarebookings.iam.gserviceaccount.com",
    "ingressSettings": null,
    "availableMemoryMb": 256,
    "timeoutSeconds": 60,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "cpu": 1,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "jamessquarebookings",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "a67ea26c20990a5ca8b757428f0ee66d77041a27"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "context": {
      "function": "projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders"
    },
    "exit": 1,
    "message": "Failed to update function projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders",
    "original": {
      "name": "FirebaseError",
      "children": [],
      "context": {
        "body": {
          "error": {
            "code": 404,
            "message": "Service account projects/-/serviceAccounts/firebase-adminsdk@jamessquarebookings.iam.gserviceaccount.com was not found.",
            "status": "NOT_FOUND"
          }
        },
        "response": {
          "statusCode": 404
        }
      },
      "exit": 1,
      "message": "Request to https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders?updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables had HTTP Error: 404, Service account projects/-/serviceAccounts/firebase-adminsdk@jamessquarebookings.iam.gserviceaccount.com was not found.",
      "status": 404
    },
    "status": 404,
    "code": 404
  }
}
[debug] [2025-04-10T00:35:13.850Z] {
  "endpoint": {
    "platform": "gcfv2",
    "id": "sendBookingReminders",
    "project": "jamessquarebookings",
    "region": "us-central1",
    "scheduleTrigger": {},
    "entryPoint": "sendBookingReminders",
    "runtime": "nodejs20",
    "source": {
      "storageSource": {
        "bucket": "gcf-v2-sources-310610178744-us-central1",
        "object": "sendBookingReminders/function-source.zip",
        "generation": "1744243602081797"
      }
    },
    "ingressSettings": "ALLOW_ALL",
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "jamessquarebookings",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/jamessquarebookings/locations/us-central1/services/sendBookingReminders",
      "FUNCTION_TARGET": "sendBookingReminders",
      "LOG_EXECUTION_ID": "true"
    },
    "timeoutSeconds": 60,
    "serviceAccount": "310610178744-compute@developer.gserviceaccount.com",
    "availableMemoryMb": 256,
    "cpu": 1,
    "maxInstances": 100,
    "concurrency": 80,
    "labels": {
      "deployment-scheduled": "true",
      "firebase-functions-hash": "2168115d89333ad4ea1037cff2781f79a68eeb36",
      "deployment-tool": "cli-firebase"
    },
    "runServiceId": "sendbookingreminders",
    "uri": "https://us-central1-jamessquarebookings.cloudfunctions.net/sendBookingReminders",
    "codebase": "default",
    "hash": "2168115d89333ad4ea1037cff2781f79a68eeb36",
    "state": "ACTIVE"
  },
  "op": "delete schedule",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "context": {
      "body": {
        "error": {
          "code": 404,
          "message": "Job not found.",
          "status": "NOT_FOUND"
        }
      },
      "response": {
        "statusCode": 404
      }
    },
    "exit": 1,
    "message": "Request to https://cloudscheduler.googleapis.com/v1/projects/jamessquarebookings/locations/us-central1/jobs/firebase-schedule-sendBookingReminders-us-central1 had HTTP Error: 404, Job not found.",
    "status": 404,
    "code": 404
  }
}
[error] Error: There was an error deploying functions:
[error] - Error Failed to update function sendBookingReminders in region europe-west1
[error] - Error Failed to delete schedule function sendBookingReminders in region us-central1
[debug] [2025-04-10T00:37:48.075Z] ----------------------------------------------------------------------
[debug] [2025-04-10T00:37:48.084Z] Command:       /opt/homebrew/Cellar/node/23.10.0_1/bin/node /opt/homebrew/bin/firebase deploy --only functions
[debug] [2025-04-10T00:37:48.084Z] CLI Version:   14.1.0
[debug] [2025-04-10T00:37:48.084Z] Platform:      darwin
[debug] [2025-04-10T00:37:48.084Z] Node Version:  v23.10.0
[debug] [2025-04-10T00:37:48.085Z] Time:          Thu Apr 10 2025 10:37:48 GMT+1000 (Australian Eastern Standard Time)
[debug] [2025-04-10T00:37:48.085Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-04-10T00:37:48.215Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-04-10T00:37:48.215Z] > authorizing via signed-in user (jrwishart93@gmail.com)
[debug] [2025-04-10T00:37:48.216Z] [iam] checking project jamessquarebookings for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-04-10T00:37:48.216Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:37:48.216Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:37:48.217Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions [none]
[debug] [2025-04-10T00:37:48.217Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:37:48.217Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-04-10T00:37:48.737Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions 200
[debug] [2025-04-10T00:37:48.737Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-04-10T00:37:48.738Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:37:48.738Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:37:48.738Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/jamessquarebookings/serviceAccounts/jamessquarebookings@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-04-10T00:37:48.738Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/jamessquarebookings/serviceAccounts/jamessquarebookings@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-04-10T00:37:50.084Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/jamessquarebookings/serviceAccounts/jamessquarebookings@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-04-10T00:37:50.085Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/jamessquarebookings/serviceAccounts/jamessquarebookings@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'jamessquarebookings'...
[info] 
[info] i  deploying functions 
[debug] [2025-04-10T00:37:50.089Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:37:50.089Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:37:50.089Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings [none]
[debug] [2025-04-10T00:37:50.465Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings 200
[debug] [2025-04-10T00:37:50.465Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings {"projectNumber":"310610178744","projectId":"jamessquarebookings","lifecycleState":"ACTIVE","name":"JamesSquareBookings","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-04-02T23:19:17.824610Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-04-10T00:37:50.467Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:37:50.467Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:37:50.467Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:37:50.467Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-04-10T00:37:50.467Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:37:50.467Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-04-10T00:37:50.467Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:37:50.468Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:37:50.468Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudfunctions.googleapis.com [none]
[debug] [2025-04-10T00:37:50.468Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:37:50.470Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/runtimeconfig.googleapis.com [none]
[debug] [2025-04-10T00:37:50.470Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:37:50.472Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudbuild.googleapis.com [none]
[debug] [2025-04-10T00:37:50.472Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudbuild.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:37:50.473Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/artifactregistry.googleapis.com [none]
[debug] [2025-04-10T00:37:50.474Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/artifactregistry.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:37:51.082Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/artifactregistry.googleapis.com 200
[debug] [2025-04-10T00:37:51.083Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-04-10T00:37:52.005Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudfunctions.googleapis.com 200
[debug] [2025-04-10T00:37:52.005Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-04-10T00:37:52.006Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudbuild.googleapis.com 200
[debug] [2025-04-10T00:37:52.007Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-04-10T00:37:52.008Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/runtimeconfig.googleapis.com 200
[debug] [2025-04-10T00:37:52.008Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-04-10T00:37:52.008Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:37:52.008Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:37:52.008Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/jamessquarebookings/adminSdkConfig [none]
[debug] [2025-04-10T00:37:52.833Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/jamessquarebookings/adminSdkConfig 200
[debug] [2025-04-10T00:37:52.833Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/jamessquarebookings/adminSdkConfig {"projectId":"jamessquarebookings","databaseURL":"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"jamessquarebookings.firebasestorage.app"}
[debug] [2025-04-10T00:37:52.834Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:37:52.834Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:37:52.834Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs [none]
[debug] [2025-04-10T00:37:53.429Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs 200
[debug] [2025-04-10T00:37:53.429Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs {"configs":[{"name":"projects/jamessquarebookings/configs/resend"}]}
[debug] [2025-04-10T00:37:53.430Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:37:53.430Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:37:53.431Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables [none]
[debug] [2025-04-10T00:37:53.825Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables 200
[debug] [2025-04-10T00:37:53.825Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables {"variables":[{"name":"projects/jamessquarebookings/configs/resend/variables/api_key","updateTime":"2025-04-09T15:38:56.326430028Z"}]}
[debug] [2025-04-10T00:37:53.826Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:37:53.826Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:37:53.826Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables/api_key [none]
[debug] [2025-04-10T00:37:54.458Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables/api_key 200
[debug] [2025-04-10T00:37:54.458Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables/api_key {"name":"projects/jamessquarebookings/configs/resend/variables/api_key","updateTime":"2025-04-09T15:38:56.326430028Z","text":"re_jScpRRyK_MWPMeCgcjJB6opm4V4BeU8Ce"}
[debug] [2025-04-10T00:37:54.460Z] Validating nodejs source
[debug] [2025-04-10T00:37:55.192Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^13.2.0",
    "firebase-functions": "^6.3.2"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-04-10T00:37:55.193Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-04-10T00:37:55.194Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-10T00:37:55.200Z] Found firebase-functions binary at '/Users/macbookair/Documents/James Square Website Folder/james-square-booking/node_modules/.bin/firebase-functions'
[info] Serving at port 8832

[debug] [2025-04-10T00:37:56.030Z] Got response from /__/functions.yaml {"endpoints":{"sendBookingReminders":{"availableMemoryMb":256,"timeoutSeconds":60,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","cpu":1,"region":["europe-west1"],"labels":{},"scheduleTrigger":{"schedule":"0 7 * * *","retryConfig":{},"timeZone":"Europe/London"},"entryPoint":"sendBookingReminders"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-04-10T00:38:00.056Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:00.056Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:00.056Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/firebaseextensions.googleapis.com [none]
[debug] [2025-04-10T00:38:00.056Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:38:01.485Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/firebaseextensions.googleapis.com 200
[debug] [2025-04-10T00:38:01.485Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/firebaseextensions.googleapis.com [omitted]
[info] ✔  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2025-04-10T00:38:01.486Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-04-10T00:38:01.486Z] > authorizing via signed-in user (jrwishart93@gmail.com)
[debug] [2025-04-10T00:38:01.486Z] [iam] checking project jamessquarebookings for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-04-10T00:38:01.486Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:01.486Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:01.487Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions [none]
[debug] [2025-04-10T00:38:01.487Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:38:01.487Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-04-10T00:38:02.036Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions 200
[debug] [2025-04-10T00:38:02.036Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-04-10T00:38:02.037Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:02.037Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:02.038Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/jamessquarebookings/instances pageSize=100&pageToken=
[debug] [2025-04-10T00:38:03.292Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/jamessquarebookings/instances 200
[debug] [2025-04-10T00:38:03.293Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/jamessquarebookings/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/macbookair/Documents/James Square Website Folder/james-square-booking/functions (93.23 KB) for uploading 
[debug] [2025-04-10T00:38:03.333Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:03.334Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:03.334Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/jamessquarebookings/locations/-/functions [none]
[debug] [2025-04-10T00:38:04.585Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/jamessquarebookings/locations/-/functions 200
[debug] [2025-04-10T00:38:04.585Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/jamessquarebookings/locations/-/functions {}
[debug] [2025-04-10T00:38:04.585Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:04.585Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:04.585Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-04-10T00:38:06.337Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/-/functions 200
[debug] [2025-04-10T00:38:06.337Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/-/functions {"functions":[{"name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"build":"projects/310610178744/locations/europe-west1/builds/5b0029ff-d4c7-4fa6-b148-8135ad4a5d90","runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744244924584904"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744244924584904"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2025-04-10T00:29:59.064255892Z","labels":{"firebase-functions-hash":"342bd044682dd450746705612dde3e3aeff4f6f2","deployment-tool":"cli-firebase","deployment-scheduled":"true"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","createTime":"2025-04-10T00:28:44.939081992Z","satisfiesPzi":true},{"name":"projects/jamessquarebookings/locations/us-central1/functions/sendBookingReminders","buildConfig":{"build":"projects/310610178744/locations/us-central1/builds/7c84b820-f7d5-4121-94c3-a05b92da4e06","runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-us-central1","object":"sendBookingReminders/function-source.zip","generation":"1744243602081797"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/us-central1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/us-central1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"maxInstanceCount":100,"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00004-qin","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-04-10T00:08:09.423665290Z","labels":{"deployment-scheduled":"true","firebase-functions-hash":"2168115d89333ad4ea1037cff2781f79a68eeb36","deployment-tool":"cli-firebase"},"environment":"GEN_2","url":"https://us-central1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","createTime":"2025-04-09T23:42:35.404980178Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API cloudscheduler.googleapis.com is enabled... 
[debug] [2025-04-10T00:38:06.341Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:06.341Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:06.341Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudscheduler.googleapis.com [none]
[debug] [2025-04-10T00:38:06.342Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudscheduler.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:38:06.697Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudscheduler.googleapis.com 200
[debug] [2025-04-10T00:38:06.697Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudscheduler.googleapis.com [omitted]
[info] ✔  functions: required API cloudscheduler.googleapis.com is enabled 
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2025-04-10T00:38:06.698Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:06.698Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2025-04-10T00:38:06.699Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:06.699Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2025-04-10T00:38:06.699Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:06.699Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2025-04-10T00:38:06.699Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:06.699Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:06.699Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/run.googleapis.com [none]
[debug] [2025-04-10T00:38:06.699Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/run.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:38:06.700Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/eventarc.googleapis.com [none]
[debug] [2025-04-10T00:38:06.700Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/eventarc.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:38:06.702Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/pubsub.googleapis.com [none]
[debug] [2025-04-10T00:38:06.702Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/pubsub.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:38:06.703Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/storage.googleapis.com [none]
[debug] [2025-04-10T00:38:06.703Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/storage.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:38:07.543Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/run.googleapis.com 200
[debug] [2025-04-10T00:38:07.544Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/run.googleapis.com [omitted]
[info] ✔  functions: required API run.googleapis.com is enabled 
[debug] [2025-04-10T00:38:08.139Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/pubsub.googleapis.com 200
[debug] [2025-04-10T00:38:08.140Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/pubsub.googleapis.com [omitted]
[info] ✔  functions: required API pubsub.googleapis.com is enabled 
[debug] [2025-04-10T00:38:08.141Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/eventarc.googleapis.com 200
[debug] [2025-04-10T00:38:08.141Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/eventarc.googleapis.com [omitted]
[info] ✔  functions: required API eventarc.googleapis.com is enabled 
[debug] [2025-04-10T00:38:08.153Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/storage.googleapis.com 200
[debug] [2025-04-10T00:38:08.153Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/storage.googleapis.com [omitted]
[info] ✔  functions: required API storage.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-04-10T00:38:08.154Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:08.154Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-04-10T00:38:08.155Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:08.155Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:08.155Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-04-10T00:38:08.156Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-04-10T00:38:08.495Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-04-10T00:38:08.496Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-310610178744@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"104019192513188928983"}}
[debug] [2025-04-10T00:38:08.596Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-04-10T00:38:08.597Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-310610178744@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"111420325653517524147"}}
[debug] [2025-04-10T00:38:08.599Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:08.599Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:08.599Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings [none]
[debug] [2025-04-10T00:38:09.748Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings 200
[debug] [2025-04-10T00:38:09.748Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings {"projectNumber":"310610178744","projectId":"jamessquarebookings","lifecycleState":"ACTIVE","name":"JamesSquareBookings","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-04-02T23:19:17.824610Z"}
[debug] [2025-04-10T00:38:09.750Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:09.750Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:09.750Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/jamessquarebookings/billingInfo [none]
[debug] [2025-04-10T00:38:11.349Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/jamessquarebookings/billingInfo 200
[debug] [2025-04-10T00:38:11.349Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/jamessquarebookings/billingInfo {"name":"projects/jamessquarebookings/billingInfo","projectId":"jamessquarebookings","billingAccountName":"billingAccounts/012001-FEC581-4622EF","billingEnabled":true}
[debug] [2025-04-10T00:38:11.351Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:11.351Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:11.352Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions:generateUploadUrl [none]
[debug] [2025-04-10T00:38:13.140Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions:generateUploadUrl 200
[debug] [2025-04-10T00:38:13.140Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/c6cbf0ef-8ed8-4f7e-a8ab-3f5c3681a7ab.zip?GoogleAccessId=service-310610178744@gcf-admin-robot.iam.gserviceaccount.com&Expires=1744247292&Signature=nLGsG8I%2FJ3UsVuSEn67Ef0t6YkbHGlHcCq7AG3G9y83yhOO7XsVmAXmCzWxbKmKb8SBI1Vui5ZIqang67Dk5LC1v7%2B%2Fpid%2BkuMGG2vdIdaTBaPAJ95k7TfpojkI5IDXe5dKXBa6fEKdn5zi4u68bsnaWM0G48b3yNxXy2F%2FQzGk3SOK97Udpz4hRNeYUyhiBTjIF99FlBWYXIQjvJEkSdZcIH9VmYtxizeUAKgfSEVRv73TAbFM6O%2BDBNsvBCjPdfD2IgHAVKmo66CTRGZfqBn%2FccnGLrbjDw1d%2B9bGFlOdowWZG%2F9%2FDpU5coCcoleZaPX0Bd3kQlCOz%2B7FFoEs9cw%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com","object":"c6cbf0ef-8ed8-4f7e-a8ab-3f5c3681a7ab.zip"}}
[debug] [2025-04-10T00:38:13.142Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/c6cbf0ef-8ed8-4f7e-a8ab-3f5c3681a7ab.zip GoogleAccessId=service-310610178744%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1744247292&Signature=nLGsG8I%2FJ3UsVuSEn67Ef0t6YkbHGlHcCq7AG3G9y83yhOO7XsVmAXmCzWxbKmKb8SBI1Vui5ZIqang67Dk5LC1v7%2B%2Fpid%2BkuMGG2vdIdaTBaPAJ95k7TfpojkI5IDXe5dKXBa6fEKdn5zi4u68bsnaWM0G48b3yNxXy2F%2FQzGk3SOK97Udpz4hRNeYUyhiBTjIF99FlBWYXIQjvJEkSdZcIH9VmYtxizeUAKgfSEVRv73TAbFM6O%2BDBNsvBCjPdfD2IgHAVKmo66CTRGZfqBn%2FccnGLrbjDw1d%2B9bGFlOdowWZG%2F9%2FDpU5coCcoleZaPX0Bd3kQlCOz%2B7FFoEs9cw%3D%3D
[debug] [2025-04-10T00:38:13.143Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/c6cbf0ef-8ed8-4f7e-a8ab-3f5c3681a7ab.zip [stream]
[debug] [2025-04-10T00:38:15.829Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/c6cbf0ef-8ed8-4f7e-a8ab-3f5c3681a7ab.zip 200
[debug] [2025-04-10T00:38:15.830Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/c6cbf0ef-8ed8-4f7e-a8ab-3f5c3681a7ab.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] 
The following functions are found in your project but do not exist in your local source code:
	sendBookingReminders(us-central1)

If you are renaming a function or changing its region, it is recommended that you create the new function first before deleting the old one to prevent event loss. For more info, visit https://firebase.google.com/docs/functions/manage-functions#modify

[info] i  functions: updating Node.js 20 (2nd Gen) function sendBookingReminders(europe-west1)... 
[debug] [2025-04-10T00:38:24.194Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:24.195Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: deleting Node.js 20 (2nd Gen) function sendBookingReminders(us-central1)... 
[debug] [2025-04-10T00:38:24.195Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:24.195Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:24.195Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2025-04-10T00:38:24.196Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders {"name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com","object":"c6cbf0ef-8ed8-4f7e-a8ab-3f5c3681a7ab.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":60,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"8cf28f65fb5ced3fc7099a3adf609d3d804003e8"}}
[debug] [2025-04-10T00:38:24.198Z] >>> [apiv2][query] DELETE https://cloudscheduler.googleapis.com/v1/projects/jamessquarebookings/locations/us-central1/jobs/firebase-schedule-sendBookingReminders-us-central1 [none]
[debug] [2025-04-10T00:38:26.755Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders 200
[debug] [2025-04-10T00:38:26.756Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:38:26.601628513Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-04-10T00:38:26.757Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:26.757Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:26.757Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152 [none]
[debug] [2025-04-10T00:38:28.457Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152 200
[debug] [2025-04-10T00:38:28.457Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152 {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:38:26.601628513Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245506567056"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744244924584904"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-scheduled":"true","firebase-functions-hash":"8cf28f65fb5ced3fc7099a3adf609d3d804003e8"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/585a9f88-70cd-4e49-9174-a4f8867356bc","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/585a9f88-70cd-4e49-9174-a4f8867356bc?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/585a9f88-70cd-4e49-9174-a4f8867356bc"},"done":false}
[debug] [2025-04-10T00:38:28.959Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:38:28.959Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:28.959Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:28.960Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152 [none]
[debug] [2025-04-10T00:38:29.533Z] <<< [apiv2][status] DELETE https://cloudscheduler.googleapis.com/v1/projects/jamessquarebookings/locations/us-central1/jobs/firebase-schedule-sendBookingReminders-us-central1 404
[debug] [2025-04-10T00:38:29.533Z] <<< [apiv2][body] DELETE https://cloudscheduler.googleapis.com/v1/projects/jamessquarebookings/locations/us-central1/jobs/firebase-schedule-sendBookingReminders-us-central1 {"error":{"code":404,"message":"Job not found.","status":"NOT_FOUND"}}
[error] Request to https://cloudscheduler.googleapis.com/v1/projects/jamessquarebookings/locations/us-central1/jobs/firebase-schedule-sendBookingReminders-us-central1 had HTTP Error: 404, Job not found.
[debug] [2025-04-10T00:38:30.503Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152 200
[debug] [2025-04-10T00:38:30.503Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152 {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:38:26.601628513Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245506567056"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744244924584904"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-scheduled":"true","firebase-functions-hash":"8cf28f65fb5ced3fc7099a3adf609d3d804003e8"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/585a9f88-70cd-4e49-9174-a4f8867356bc","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/585a9f88-70cd-4e49-9174-a4f8867356bc?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/585a9f88-70cd-4e49-9174-a4f8867356bc"},"done":false}
[debug] [2025-04-10T00:38:31.504Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:38:31.505Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:31.505Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:31.505Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152 [none]
[debug] [2025-04-10T00:38:33.152Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152 200
[debug] [2025-04-10T00:38:33.152Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152 {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:38:26.601628513Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245506567056"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744244924584904"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-scheduled":"true","firebase-functions-hash":"8cf28f65fb5ced3fc7099a3adf609d3d804003e8"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/585a9f88-70cd-4e49-9174-a4f8867356bc","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/585a9f88-70cd-4e49-9174-a4f8867356bc?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/585a9f88-70cd-4e49-9174-a4f8867356bc"},"done":false}
[debug] [2025-04-10T00:38:35.154Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:38:35.155Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:35.155Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:35.155Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152 [none]
[debug] [2025-04-10T00:38:36.751Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152 200
[debug] [2025-04-10T00:38:36.751Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152 {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:38:26.601628513Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245506567056"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744244924584904"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-scheduled":"true","firebase-functions-hash":"8cf28f65fb5ced3fc7099a3adf609d3d804003e8"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/585a9f88-70cd-4e49-9174-a4f8867356bc","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/585a9f88-70cd-4e49-9174-a4f8867356bc?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/585a9f88-70cd-4e49-9174-a4f8867356bc"},"done":false}
[debug] [2025-04-10T00:38:40.753Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:38:40.754Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:40.754Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:40.754Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152 [none]
[debug] [2025-04-10T00:38:42.381Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152 200
[debug] [2025-04-10T00:38:42.381Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152 {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:38:26.601628513Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245506567056"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744244924584904"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-scheduled":"true","firebase-functions-hash":"8cf28f65fb5ced3fc7099a3adf609d3d804003e8"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/585a9f88-70cd-4e49-9174-a4f8867356bc","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/585a9f88-70cd-4e49-9174-a4f8867356bc?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/585a9f88-70cd-4e49-9174-a4f8867356bc"},"done":false}
[debug] [2025-04-10T00:38:50.383Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:38:50.384Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:50.384Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:38:50.384Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152 [none]
[debug] [2025-04-10T00:38:52.212Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152 200
[debug] [2025-04-10T00:38:52.213Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152 {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:38:26.601628513Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245506567056"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744244924584904"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-scheduled":"true","firebase-functions-hash":"8cf28f65fb5ced3fc7099a3adf609d3d804003e8"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/585a9f88-70cd-4e49-9174-a4f8867356bc","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/585a9f88-70cd-4e49-9174-a4f8867356bc?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/585a9f88-70cd-4e49-9174-a4f8867356bc"},"done":false}
[debug] [2025-04-10T00:39:02.214Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:39:02.215Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:39:02.215Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:39:02.215Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152 [none]
[debug] [2025-04-10T00:39:04.091Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152 200
[debug] [2025-04-10T00:39:04.091Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152 {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:38:26.601628513Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245506567056"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744244924584904"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-scheduled":"true","firebase-functions-hash":"8cf28f65fb5ced3fc7099a3adf609d3d804003e8"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/585a9f88-70cd-4e49-9174-a4f8867356bc","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/585a9f88-70cd-4e49-9174-a4f8867356bc?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/585a9f88-70cd-4e49-9174-a4f8867356bc"},"done":false}
[debug] [2025-04-10T00:39:14.092Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:39:14.093Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:39:14.093Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:39:14.093Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152 [none]
[debug] [2025-04-10T00:39:15.827Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152 200
[debug] [2025-04-10T00:39:15.827Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152 {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:38:26.601628513Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245506567056"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744244924584904"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-scheduled":"true","firebase-functions-hash":"8cf28f65fb5ced3fc7099a3adf609d3d804003e8"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/310610178744/locations/europe-west1/builds/585a9f88-70cd-4e49-9174-a4f8867356bc","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/585a9f88-70cd-4e49-9174-a4f8867356bc?project=310610178744"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","resourceUri":"https://console.cloud.google.com/run/detail/europe-west1/sendbookingreminders?project=jamessquarebookings","stateMessages":[{"severity":"WARNING","type":"CloudRunServiceRecreated","message":"Cloud Run service projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders for the function was not found. The service was redeployed with default values."}]}],"sourceToken":"Clhwcm9qZWN0cy8zMTA2MTAxNzg3NDQvbG9jYXRpb25zL2V1cm9wZS13ZXN0MS9idWlsZHMvNTg1YTlmODgtNzBjZC00ZTQ5LTkxNzQtYTRmODg2NzM1NmJjEoIBZXVyb3BlLXdlc3QxLWRvY2tlci5wa2cuZGV2L2phbWVzc3F1YXJlYm9va2luZ3MvZ2NmLWFydGlmYWN0cy9qYW1lc3NxdWFyZWJvb2tpbmdzX19ldXJvcGUtLXdlc3QxX19zZW5kX2Jvb2tpbmdfcmVtaW5kZXJzOnZlcnNpb25fMRi45byOhQkiUnByb2plY3RzL2phbWVzc3F1YXJlYm9va2luZ3MvbG9jYXRpb25zL2V1cm9wZS13ZXN0MS9mdW5jdGlvbnMvc2VuZEJvb2tpbmdSZW1pbmRlcnMqCwizpty/BhCgjNkcMghub2RlanMyMDp3CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJQZXVyb3BlLXdlc3QxLWRvY2tlci5wa2cuZGV2L3NlcnZlcmxlc3MtcnVudGltZXMvZ29vZ2xlLTIyLWZ1bGwvcnVudGltZXMvbm9kZWpzMjBAAQ==","operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/585a9f88-70cd-4e49-9174-a4f8867356bc"},"done":false}
[debug] [2025-04-10T00:39:15.827Z] Got source token Clhwcm9qZWN0cy8zMTA2MTAxNzg3NDQvbG9jYXRpb25zL2V1cm9wZS13ZXN0MS9idWlsZHMvNTg1YTlmODgtNzBjZC00ZTQ5LTkxNzQtYTRmODg2NzM1NmJjEoIBZXVyb3BlLXdlc3QxLWRvY2tlci5wa2cuZGV2L2phbWVzc3F1YXJlYm9va2luZ3MvZ2NmLWFydGlmYWN0cy9qYW1lc3NxdWFyZWJvb2tpbmdzX19ldXJvcGUtLXdlc3QxX19zZW5kX2Jvb2tpbmdfcmVtaW5kZXJzOnZlcnNpb25fMRi45byOhQkiUnByb2plY3RzL2phbWVzc3F1YXJlYm9va2luZ3MvbG9jYXRpb25zL2V1cm9wZS13ZXN0MS9mdW5jdGlvbnMvc2VuZEJvb2tpbmdSZW1pbmRlcnMqCwizpty/BhCgjNkcMghub2RlanMyMDp3CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJQZXVyb3BlLXdlc3QxLWRvY2tlci5wa2cuZGV2L3NlcnZlcmxlc3MtcnVudGltZXMvZ29vZ2xlLTIyLWZ1bGwvcnVudGltZXMvbm9kZWpzMjBAAQ== for region europe-west1
[debug] [2025-04-10T00:39:25.829Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:39:25.830Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:39:25.830Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:39:25.830Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152 [none]
[debug] [2025-04-10T00:39:27.576Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152 200
[debug] [2025-04-10T00:39:27.576Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152 {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245505807-63261cdc6530e-9d2f6a44-ef5da152","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:38:26.601628513Z","endTime":"2025-04-10T00:39:23.106571387Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245506567056"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744244924584904"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-scheduled":"true","firebase-functions-hash":"8cf28f65fb5ced3fc7099a3adf609d3d804003e8"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service sendbookingreminders, Container Healthcheck failed. Revision 'sendbookingreminders-00001-fuv' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=jamessquarebookings&resource=cloud_run_revision/service_name/sendbookingreminders/revision_name/sendbookingreminders-00001-fuv&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbookingreminders%22%0Aresource.labels.revision_name%3D%22sendbookingreminders-00001-fuv%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2025-04-10T00:39:27.576Z] Got source token undefined for region europe-west1
[error] Could not create or update Cloud Run service sendbookingreminders, Container Healthcheck failed. Revision 'sendbookingreminders-00001-fuv' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=jamessquarebookings&resource=cloud_run_revision/service_name/sendbookingreminders/revision_name/sendbookingreminders-00001-fuv&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbookingreminders%22%0Aresource.labels.revision_name%3D%22sendbookingreminders-00001-fuv%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2025-04-10T00:39:27.584Z] Total Function Deployment time: 63385
[debug] [2025-04-10T00:39:27.584Z] 2 Functions Deployed
[debug] [2025-04-10T00:39:27.584Z] 2 Functions Errored
[debug] [2025-04-10T00:39:27.584Z] 0 Function Deployments Aborted
[debug] [2025-04-10T00:39:27.584Z] Average Function Deployment time: 34361.5
[info] 
[info] Functions deploy had errors with the following functions:
	sendBookingReminders(europe-west1)
	sendBookingReminders(us-central1)
[debug] [2025-04-10T00:39:28.181Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:39:28.181Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:39:28.181Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts [none]
[debug] [2025-04-10T00:39:30.104Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts 200
[debug] [2025-04-10T00:39:30.104Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts {"name":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-04-10T00:28:54.431684Z","updateTime":"2025-04-10T00:39:10.778903Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"86400s"}}},"sizeBytes":"96166620","vulnerabilityScanningConfig":{"lastEnableTime":"2025-04-10T00:28:45.105407807Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"europe-west1-docker.pkg.dev/jamessquarebookings/gcf-artifacts"}
[debug] [2025-04-10T00:39:30.104Z] Functions deploy failed.
[debug] [2025-04-10T00:39:30.104Z] {
  "endpoint": {
    "platform": "gcfv2",
    "id": "sendBookingReminders",
    "project": "jamessquarebookings",
    "region": "us-central1",
    "scheduleTrigger": {},
    "entryPoint": "sendBookingReminders",
    "runtime": "nodejs20",
    "source": {
      "storageSource": {
        "bucket": "gcf-v2-sources-310610178744-us-central1",
        "object": "sendBookingReminders/function-source.zip",
        "generation": "1744243602081797"
      }
    },
    "ingressSettings": "ALLOW_ALL",
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "jamessquarebookings",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/jamessquarebookings/locations/us-central1/services/sendBookingReminders",
      "FUNCTION_TARGET": "sendBookingReminders",
      "LOG_EXECUTION_ID": "true"
    },
    "timeoutSeconds": 60,
    "serviceAccount": "310610178744-compute@developer.gserviceaccount.com",
    "availableMemoryMb": 256,
    "cpu": 1,
    "maxInstances": 100,
    "concurrency": 80,
    "labels": {
      "deployment-scheduled": "true",
      "firebase-functions-hash": "2168115d89333ad4ea1037cff2781f79a68eeb36",
      "deployment-tool": "cli-firebase"
    },
    "runServiceId": "sendbookingreminders",
    "uri": "https://us-central1-jamessquarebookings.cloudfunctions.net/sendBookingReminders",
    "codebase": "default",
    "hash": "2168115d89333ad4ea1037cff2781f79a68eeb36",
    "state": "ACTIVE"
  },
  "op": "delete schedule",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "context": {
      "body": {
        "error": {
          "code": 404,
          "message": "Job not found.",
          "status": "NOT_FOUND"
        }
      },
      "response": {
        "statusCode": 404
      }
    },
    "exit": 1,
    "message": "Request to https://cloudscheduler.googleapis.com/v1/projects/jamessquarebookings/locations/us-central1/jobs/firebase-schedule-sendBookingReminders-us-central1 had HTTP Error: 404, Job not found.",
    "status": 404,
    "code": 404
  }
}
[debug] [2025-04-10T00:39:30.104Z] {
  "endpoint": {
    "id": "sendBookingReminders",
    "project": "jamessquarebookings",
    "region": "europe-west1",
    "entryPoint": "sendBookingReminders",
    "platform": "gcfv2",
    "runtime": "nodejs20",
    "scheduleTrigger": {
      "schedule": "0 7 * * *",
      "timeZone": "Europe/London",
      "retryConfig": {}
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": 256,
    "timeoutSeconds": 60,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "cpu": 1,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "jamessquarebookings",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "8cf28f65fb5ced3fc7099a3adf609d3d804003e8"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service sendbookingreminders, Container Healthcheck failed. Revision 'sendbookingreminders-00001-fuv' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=jamessquarebookings&resource=cloud_run_revision/service_name/sendbookingreminders/revision_name/sendbookingreminders-00001-fuv&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbookingreminders%22%0Aresource.labels.revision_name%3D%22sendbookingreminders-00001-fuv%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service sendbookingreminders, Container Healthcheck failed. Revision 'sendbookingreminders-00001-fuv' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=jamessquarebookings&resource=cloud_run_revision/service_name/sendbookingreminders/revision_name/sendbookingreminders-00001-fuv&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbookingreminders%22%0Aresource.labels.revision_name%3D%22sendbookingreminders-00001-fuv%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[error] Error: There was an error deploying functions:
[error] - Error Failed to delete schedule function sendBookingReminders in region us-central1
[error] - Error Failed to update function sendBookingReminders in region europe-west1
[debug] [2025-04-10T00:41:47.507Z] ----------------------------------------------------------------------
[debug] [2025-04-10T00:41:47.514Z] Command:       /opt/homebrew/Cellar/node/23.10.0_1/bin/node /opt/homebrew/bin/firebase deploy --only functions:sendBookingReminders
[debug] [2025-04-10T00:41:47.514Z] CLI Version:   14.1.0
[debug] [2025-04-10T00:41:47.514Z] Platform:      darwin
[debug] [2025-04-10T00:41:47.514Z] Node Version:  v23.10.0
[debug] [2025-04-10T00:41:47.515Z] Time:          Thu Apr 10 2025 10:41:47 GMT+1000 (Australian Eastern Standard Time)
[debug] [2025-04-10T00:41:47.515Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-04-10T00:41:47.644Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-04-10T00:41:47.644Z] > authorizing via signed-in user (jrwishart93@gmail.com)
[debug] [2025-04-10T00:41:47.645Z] [iam] checking project jamessquarebookings for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-04-10T00:41:47.645Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:41:47.645Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:41:47.646Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions [none]
[debug] [2025-04-10T00:41:47.646Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:41:47.646Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-04-10T00:41:48.366Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions 200
[debug] [2025-04-10T00:41:48.366Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-04-10T00:41:48.367Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:41:48.367Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:41:48.367Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/jamessquarebookings/serviceAccounts/jamessquarebookings@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-04-10T00:41:48.367Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/jamessquarebookings/serviceAccounts/jamessquarebookings@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-04-10T00:41:49.161Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/jamessquarebookings/serviceAccounts/jamessquarebookings@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-04-10T00:41:49.161Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/jamessquarebookings/serviceAccounts/jamessquarebookings@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'jamessquarebookings'...
[info] 
[info] i  deploying functions 
[debug] [2025-04-10T00:41:49.166Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:41:49.166Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:41:49.166Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings [none]
[debug] [2025-04-10T00:41:49.478Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings 200
[debug] [2025-04-10T00:41:49.478Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings {"projectNumber":"310610178744","projectId":"jamessquarebookings","lifecycleState":"ACTIVE","name":"JamesSquareBookings","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-04-02T23:19:17.824610Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-04-10T00:41:49.482Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:41:49.482Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:41:49.482Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:41:49.482Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-04-10T00:41:49.482Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:41:49.483Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-04-10T00:41:49.483Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:41:49.483Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:41:49.483Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudfunctions.googleapis.com [none]
[debug] [2025-04-10T00:41:49.483Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:41:49.485Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/runtimeconfig.googleapis.com [none]
[debug] [2025-04-10T00:41:49.486Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:41:49.488Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudbuild.googleapis.com [none]
[debug] [2025-04-10T00:41:49.488Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudbuild.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:41:49.489Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/artifactregistry.googleapis.com [none]
[debug] [2025-04-10T00:41:49.489Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/artifactregistry.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:41:50.291Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudfunctions.googleapis.com 200
[debug] [2025-04-10T00:41:50.291Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-04-10T00:41:51.135Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/runtimeconfig.googleapis.com 200
[debug] [2025-04-10T00:41:51.135Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-04-10T00:41:51.136Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudbuild.googleapis.com 200
[debug] [2025-04-10T00:41:51.136Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-04-10T00:41:51.143Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/artifactregistry.googleapis.com 200
[debug] [2025-04-10T00:41:51.144Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-04-10T00:41:51.144Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:41:51.144Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:41:51.144Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/jamessquarebookings/adminSdkConfig [none]
[debug] [2025-04-10T00:41:52.205Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/jamessquarebookings/adminSdkConfig 200
[debug] [2025-04-10T00:41:52.205Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/jamessquarebookings/adminSdkConfig {"projectId":"jamessquarebookings","databaseURL":"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"jamessquarebookings.firebasestorage.app"}
[debug] [2025-04-10T00:41:52.206Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:41:52.206Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:41:52.206Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs [none]
[debug] [2025-04-10T00:41:52.994Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs 200
[debug] [2025-04-10T00:41:52.995Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs {"configs":[{"name":"projects/jamessquarebookings/configs/resend"}]}
[debug] [2025-04-10T00:41:52.996Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:41:52.996Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:41:52.996Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables [none]
[debug] [2025-04-10T00:41:53.425Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables 200
[debug] [2025-04-10T00:41:53.426Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables {"variables":[{"name":"projects/jamessquarebookings/configs/resend/variables/api_key","updateTime":"2025-04-09T15:38:56.326430028Z"}]}
[debug] [2025-04-10T00:41:53.426Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:41:53.426Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:41:53.426Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables/api_key [none]
[debug] [2025-04-10T00:41:53.849Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables/api_key 200
[debug] [2025-04-10T00:41:53.849Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables/api_key {"name":"projects/jamessquarebookings/configs/resend/variables/api_key","updateTime":"2025-04-09T15:38:56.326430028Z","text":"re_jScpRRyK_MWPMeCgcjJB6opm4V4BeU8Ce"}
[debug] [2025-04-10T00:41:53.851Z] Validating nodejs source
[debug] [2025-04-10T00:41:54.694Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^13.2.0",
    "firebase-functions": "^6.3.2"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-04-10T00:41:54.694Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-04-10T00:41:54.695Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-10T00:41:54.701Z] Found firebase-functions binary at '/Users/macbookair/Documents/James Square Website Folder/james-square-booking/node_modules/.bin/firebase-functions'
[info] Serving at port 8889

[debug] [2025-04-10T00:41:55.256Z] Got response from /__/functions.yaml {"endpoints":{"sendBookingReminders":{"availableMemoryMb":256,"timeoutSeconds":60,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","cpu":1,"region":["europe-west1"],"labels":{},"scheduleTrigger":{"schedule":"0 7 * * *","retryConfig":{},"timeZone":"Europe/London"},"entryPoint":"sendBookingReminders"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-04-10T00:41:59.281Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:41:59.282Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:41:59.282Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/firebaseextensions.googleapis.com [none]
[debug] [2025-04-10T00:41:59.282Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:42:00.734Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/firebaseextensions.googleapis.com 200
[debug] [2025-04-10T00:42:00.734Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/firebaseextensions.googleapis.com [omitted]
[info] ✔  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2025-04-10T00:42:00.734Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-04-10T00:42:00.735Z] > authorizing via signed-in user (jrwishart93@gmail.com)
[debug] [2025-04-10T00:42:00.735Z] [iam] checking project jamessquarebookings for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-04-10T00:42:00.735Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:00.735Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:00.735Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions [none]
[debug] [2025-04-10T00:42:00.735Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:42:00.735Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-04-10T00:42:01.840Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions 200
[debug] [2025-04-10T00:42:01.841Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-04-10T00:42:01.841Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:01.842Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:01.842Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/jamessquarebookings/instances pageSize=100&pageToken=
[debug] [2025-04-10T00:42:03.402Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/jamessquarebookings/instances 200
[debug] [2025-04-10T00:42:03.402Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/jamessquarebookings/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/macbookair/Documents/James Square Website Folder/james-square-booking/functions (93.24 KB) for uploading 
[debug] [2025-04-10T00:42:03.444Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:03.444Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:03.444Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/jamessquarebookings/locations/-/functions [none]
[debug] [2025-04-10T00:42:04.534Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/jamessquarebookings/locations/-/functions 200
[debug] [2025-04-10T00:42:04.535Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/jamessquarebookings/locations/-/functions {}
[debug] [2025-04-10T00:42:04.535Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:04.535Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:04.535Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-04-10T00:42:06.185Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/-/functions 200
[debug] [2025-04-10T00:42:06.186Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/-/functions {"functions":[{"name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"build":"projects/310610178744/locations/europe-west1/builds/585a9f88-70cd-4e49-9174-a4f8867356bc","runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245506567056"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"maxInstanceCount":100,"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00001-fuv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-04-10T00:39:23.113082036Z","labels":{"firebase-functions-hash":"8cf28f65fb5ced3fc7099a3adf609d3d804003e8","deployment-tool":"cli-firebase","deployment-scheduled":"true"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","createTime":"2025-04-10T00:28:44.939081992Z","satisfiesPzi":true},{"name":"projects/jamessquarebookings/locations/us-central1/functions/sendBookingReminders","buildConfig":{"build":"projects/310610178744/locations/us-central1/builds/7c84b820-f7d5-4121-94c3-a05b92da4e06","runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-us-central1","object":"sendBookingReminders/function-source.zip","generation":"1744243602081797"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/us-central1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/us-central1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"maxInstanceCount":100,"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00004-qin","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-04-10T00:08:09.423665290Z","labels":{"firebase-functions-hash":"2168115d89333ad4ea1037cff2781f79a68eeb36","deployment-tool":"cli-firebase","deployment-scheduled":"true"},"environment":"GEN_2","url":"https://us-central1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","createTime":"2025-04-09T23:42:35.404980178Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API cloudscheduler.googleapis.com is enabled... 
[debug] [2025-04-10T00:42:06.190Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:06.190Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:06.191Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudscheduler.googleapis.com [none]
[debug] [2025-04-10T00:42:06.191Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudscheduler.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:42:07.696Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudscheduler.googleapis.com 200
[debug] [2025-04-10T00:42:07.697Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudscheduler.googleapis.com [omitted]
[info] ✔  functions: required API cloudscheduler.googleapis.com is enabled 
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2025-04-10T00:42:07.698Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:07.698Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2025-04-10T00:42:07.698Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:07.698Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2025-04-10T00:42:07.698Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:07.698Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2025-04-10T00:42:07.698Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:07.698Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:07.699Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/run.googleapis.com [none]
[debug] [2025-04-10T00:42:07.699Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/run.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:42:07.699Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/eventarc.googleapis.com [none]
[debug] [2025-04-10T00:42:07.699Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/eventarc.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:42:07.701Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/pubsub.googleapis.com [none]
[debug] [2025-04-10T00:42:07.701Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/pubsub.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:42:07.702Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/storage.googleapis.com [none]
[debug] [2025-04-10T00:42:07.702Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/storage.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:42:08.044Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/run.googleapis.com 200
[debug] [2025-04-10T00:42:08.044Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/run.googleapis.com [omitted]
[info] ✔  functions: required API run.googleapis.com is enabled 
[debug] [2025-04-10T00:42:09.118Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/pubsub.googleapis.com 200
[debug] [2025-04-10T00:42:09.118Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/pubsub.googleapis.com [omitted]
[info] ✔  functions: required API pubsub.googleapis.com is enabled 
[debug] [2025-04-10T00:42:09.123Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/eventarc.googleapis.com 200
[debug] [2025-04-10T00:42:09.123Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/eventarc.googleapis.com [omitted]
[info] ✔  functions: required API eventarc.googleapis.com is enabled 
[debug] [2025-04-10T00:42:09.128Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/storage.googleapis.com 200
[debug] [2025-04-10T00:42:09.128Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/storage.googleapis.com [omitted]
[info] ✔  functions: required API storage.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-04-10T00:42:09.129Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:09.129Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-04-10T00:42:09.129Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:09.129Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:09.129Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-04-10T00:42:09.130Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-04-10T00:42:09.434Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-04-10T00:42:09.434Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-310610178744@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"111420325653517524147"}}
[debug] [2025-04-10T00:42:09.443Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-04-10T00:42:09.443Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-310610178744@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"104019192513188928983"}}
[debug] [2025-04-10T00:42:09.446Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:09.446Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:09.446Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings [none]
[debug] [2025-04-10T00:42:10.150Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings 200
[debug] [2025-04-10T00:42:10.150Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings {"projectNumber":"310610178744","projectId":"jamessquarebookings","lifecycleState":"ACTIVE","name":"JamesSquareBookings","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-04-02T23:19:17.824610Z"}
[debug] [2025-04-10T00:42:10.152Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:10.152Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:10.152Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/jamessquarebookings/billingInfo [none]
[debug] [2025-04-10T00:42:12.132Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/jamessquarebookings/billingInfo 200
[debug] [2025-04-10T00:42:12.132Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/jamessquarebookings/billingInfo {"name":"projects/jamessquarebookings/billingInfo","projectId":"jamessquarebookings","billingAccountName":"billingAccounts/012001-FEC581-4622EF","billingEnabled":true}
[debug] [2025-04-10T00:42:12.133Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:12.134Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:12.134Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions:generateUploadUrl [none]
[debug] [2025-04-10T00:42:13.912Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions:generateUploadUrl 200
[debug] [2025-04-10T00:42:13.912Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/742f35bd-6f67-49b9-8ba4-59c9d75800b1.zip?GoogleAccessId=service-310610178744@gcf-admin-robot.iam.gserviceaccount.com&Expires=1744247533&Signature=UZcG%2BOvkwuq7CLowtqYhWKDHDmgA1BmJgzY%2Bt7MeRPYnzoK4LwSMmaKyH6%2BfrqCxFefPXinCNS%2BrpkagTp6Ztg5orTNnvIfaGPiFS19LLeVYG2Jhf3KHINy3bcjX5TLOAtjEwvNVKZ9RKJ5F2STriXGWhzGA4xlKuKwmwKkFAUDe6LTK6sux7%2FHmdIm038dK4NltF8GDrOAo2BvEIOqmUkxAKGriquLG3XnIBgA%2FF3DWW8CJJNsmlHvEZ%2FWT3UPe%2BxXx9rbGQEuEsXObqYMjSHs7Nfd313dm7pug9pZljUsvgBwHvPamXTLBTqMvTldEHSVrvVB5OazZqHQ1wgZDUA%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com","object":"742f35bd-6f67-49b9-8ba4-59c9d75800b1.zip"}}
[debug] [2025-04-10T00:42:13.914Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/742f35bd-6f67-49b9-8ba4-59c9d75800b1.zip GoogleAccessId=service-310610178744%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1744247533&Signature=UZcG%2BOvkwuq7CLowtqYhWKDHDmgA1BmJgzY%2Bt7MeRPYnzoK4LwSMmaKyH6%2BfrqCxFefPXinCNS%2BrpkagTp6Ztg5orTNnvIfaGPiFS19LLeVYG2Jhf3KHINy3bcjX5TLOAtjEwvNVKZ9RKJ5F2STriXGWhzGA4xlKuKwmwKkFAUDe6LTK6sux7%2FHmdIm038dK4NltF8GDrOAo2BvEIOqmUkxAKGriquLG3XnIBgA%2FF3DWW8CJJNsmlHvEZ%2FWT3UPe%2BxXx9rbGQEuEsXObqYMjSHs7Nfd313dm7pug9pZljUsvgBwHvPamXTLBTqMvTldEHSVrvVB5OazZqHQ1wgZDUA%3D%3D
[debug] [2025-04-10T00:42:13.914Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/742f35bd-6f67-49b9-8ba4-59c9d75800b1.zip [stream]
[debug] [2025-04-10T00:42:16.787Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/742f35bd-6f67-49b9-8ba4-59c9d75800b1.zip 200
[debug] [2025-04-10T00:42:16.787Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/742f35bd-6f67-49b9-8ba4-59c9d75800b1.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] 
The following functions are found in your project but do not exist in your local source code:
	sendBookingReminders(us-central1)

If you are renaming a function or changing its region, it is recommended that you create the new function first before deleting the old one to prevent event loss. For more info, visit https://firebase.google.com/docs/functions/manage-functions#modify

[info] i  functions: updating Node.js 20 (2nd Gen) function sendBookingReminders(europe-west1)... 
[debug] [2025-04-10T00:42:44.681Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:44.681Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: deleting Node.js 20 (2nd Gen) function sendBookingReminders(us-central1)... 
[debug] [2025-04-10T00:42:44.681Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:44.681Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:44.682Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2025-04-10T00:42:44.682Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders {"name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com","object":"742f35bd-6f67-49b9-8ba4-59c9d75800b1.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":60,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"748151f149d6f071df76d976fad33542b3635099"}}
[debug] [2025-04-10T00:42:44.683Z] >>> [apiv2][query] DELETE https://cloudscheduler.googleapis.com/v1/projects/jamessquarebookings/locations/us-central1/jobs/firebase-schedule-sendBookingReminders-us-central1 [none]
[debug] [2025-04-10T00:42:47.296Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders 200
[debug] [2025-04-10T00:42:47.297Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:42:47.142233685Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-04-10T00:42:47.298Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:47.298Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:47.298Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6 [none]
[debug] [2025-04-10T00:42:48.965Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6 200
[debug] [2025-04-10T00:42:48.966Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6 {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:42:47.142233685Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245767112054"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00001-fuv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-scheduled":"true","firebase-functions-hash":"748151f149d6f071df76d976fad33542b3635099"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/2b9abc93-2e15-4923-912d-f517f8469d24","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/2b9abc93-2e15-4923-912d-f517f8469d24?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/2b9abc93-2e15-4923-912d-f517f8469d24"},"done":false}
[debug] [2025-04-10T00:42:49.468Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:42:49.468Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:49.469Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:49.469Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6 [none]
[debug] [2025-04-10T00:42:51.013Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6 200
[debug] [2025-04-10T00:42:51.014Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6 {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:42:47.142233685Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245767112054"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00001-fuv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-scheduled":"true","firebase-functions-hash":"748151f149d6f071df76d976fad33542b3635099"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/2b9abc93-2e15-4923-912d-f517f8469d24","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/2b9abc93-2e15-4923-912d-f517f8469d24?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/2b9abc93-2e15-4923-912d-f517f8469d24"},"done":false}
[debug] [2025-04-10T00:42:52.014Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:42:52.015Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:52.015Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:52.015Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6 [none]
[debug] [2025-04-10T00:42:52.028Z] <<< [apiv2][status] DELETE https://cloudscheduler.googleapis.com/v1/projects/jamessquarebookings/locations/us-central1/jobs/firebase-schedule-sendBookingReminders-us-central1 404
[debug] [2025-04-10T00:42:52.028Z] <<< [apiv2][body] DELETE https://cloudscheduler.googleapis.com/v1/projects/jamessquarebookings/locations/us-central1/jobs/firebase-schedule-sendBookingReminders-us-central1 {"error":{"code":404,"message":"Job not found.","status":"NOT_FOUND"}}
[error] Request to https://cloudscheduler.googleapis.com/v1/projects/jamessquarebookings/locations/us-central1/jobs/firebase-schedule-sendBookingReminders-us-central1 had HTTP Error: 404, Job not found.
[debug] [2025-04-10T00:42:53.563Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6 200
[debug] [2025-04-10T00:42:53.564Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6 {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:42:47.142233685Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245767112054"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00001-fuv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-scheduled":"true","firebase-functions-hash":"748151f149d6f071df76d976fad33542b3635099"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/2b9abc93-2e15-4923-912d-f517f8469d24","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/2b9abc93-2e15-4923-912d-f517f8469d24?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/2b9abc93-2e15-4923-912d-f517f8469d24"},"done":false}
[debug] [2025-04-10T00:42:55.566Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:42:55.566Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:55.566Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:42:55.566Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6 [none]
[debug] [2025-04-10T00:42:57.182Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6 200
[debug] [2025-04-10T00:42:57.183Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6 {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:42:47.142233685Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245767112054"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00001-fuv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-scheduled":"true","firebase-functions-hash":"748151f149d6f071df76d976fad33542b3635099"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/2b9abc93-2e15-4923-912d-f517f8469d24","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/2b9abc93-2e15-4923-912d-f517f8469d24?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/2b9abc93-2e15-4923-912d-f517f8469d24"},"done":false}
[debug] [2025-04-10T00:43:01.184Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:43:01.185Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:43:01.185Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:43:01.185Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6 [none]
[debug] [2025-04-10T00:43:02.711Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6 200
[debug] [2025-04-10T00:43:02.711Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6 {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:42:47.142233685Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245767112054"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00001-fuv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-scheduled":"true","firebase-functions-hash":"748151f149d6f071df76d976fad33542b3635099"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/2b9abc93-2e15-4923-912d-f517f8469d24","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/2b9abc93-2e15-4923-912d-f517f8469d24?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/2b9abc93-2e15-4923-912d-f517f8469d24"},"done":false}
[debug] [2025-04-10T00:43:10.712Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:43:10.713Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:43:10.713Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:43:10.713Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6 [none]
[debug] [2025-04-10T00:43:12.453Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6 200
[debug] [2025-04-10T00:43:12.454Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6 {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:42:47.142233685Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245767112054"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00001-fuv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-scheduled":"true","firebase-functions-hash":"748151f149d6f071df76d976fad33542b3635099"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/2b9abc93-2e15-4923-912d-f517f8469d24","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/2b9abc93-2e15-4923-912d-f517f8469d24?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/2b9abc93-2e15-4923-912d-f517f8469d24"},"done":false}
[debug] [2025-04-10T00:43:22.454Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:43:22.455Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:43:22.455Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:43:22.455Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6 [none]
[debug] [2025-04-10T00:43:24.294Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6 200
[debug] [2025-04-10T00:43:24.294Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6 {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:42:47.142233685Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245767112054"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00001-fuv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-scheduled":"true","firebase-functions-hash":"748151f149d6f071df76d976fad33542b3635099"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/2b9abc93-2e15-4923-912d-f517f8469d24","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/2b9abc93-2e15-4923-912d-f517f8469d24?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/2b9abc93-2e15-4923-912d-f517f8469d24"},"done":false}
[debug] [2025-04-10T00:43:34.296Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:43:34.297Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:43:34.297Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:43:34.297Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6 [none]
[debug] [2025-04-10T00:43:36.167Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6 200
[debug] [2025-04-10T00:43:36.167Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6 {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:42:47.142233685Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245767112054"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00001-fuv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-scheduled":"true","firebase-functions-hash":"748151f149d6f071df76d976fad33542b3635099"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/310610178744/locations/europe-west1/builds/2b9abc93-2e15-4923-912d-f517f8469d24","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/2b9abc93-2e15-4923-912d-f517f8469d24?project=310610178744"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","resourceUri":"https://console.cloud.google.com/run/detail/europe-west1/sendbookingreminders?project=jamessquarebookings","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8zMTA2MTAxNzg3NDQvbG9jYXRpb25zL2V1cm9wZS13ZXN0MS9idWlsZHMvMmI5YWJjOTMtMmUxNS00OTIzLTkxMmQtZjUxN2Y4NDY5ZDI0EoIBZXVyb3BlLXdlc3QxLWRvY2tlci5wa2cuZGV2L2phbWVzc3F1YXJlYm9va2luZ3MvZ2NmLWFydGlmYWN0cy9qYW1lc3NxdWFyZWJvb2tpbmdzX19ldXJvcGUtLXdlc3QxX19zZW5kX2Jvb2tpbmdfcmVtaW5kZXJzOnZlcnNpb25fMRi45byOhQkiUnByb2plY3RzL2phbWVzc3F1YXJlYm9va2luZ3MvbG9jYXRpb25zL2V1cm9wZS13ZXN0MS9mdW5jdGlvbnMvc2VuZEJvb2tpbmdSZW1pbmRlcnMqDAizqNy/BhCgl+2cAjIIbm9kZWpzMjA6dwojZ2NyLmlvL2dhZS1ydW50aW1lcy9ub2RlanMyMDpzdGFibGUSUGV1cm9wZS13ZXN0MS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/2b9abc93-2e15-4923-912d-f517f8469d24"},"done":false}
[debug] [2025-04-10T00:43:36.168Z] Got source token Clhwcm9qZWN0cy8zMTA2MTAxNzg3NDQvbG9jYXRpb25zL2V1cm9wZS13ZXN0MS9idWlsZHMvMmI5YWJjOTMtMmUxNS00OTIzLTkxMmQtZjUxN2Y4NDY5ZDI0EoIBZXVyb3BlLXdlc3QxLWRvY2tlci5wa2cuZGV2L2phbWVzc3F1YXJlYm9va2luZ3MvZ2NmLWFydGlmYWN0cy9qYW1lc3NxdWFyZWJvb2tpbmdzX19ldXJvcGUtLXdlc3QxX19zZW5kX2Jvb2tpbmdfcmVtaW5kZXJzOnZlcnNpb25fMRi45byOhQkiUnByb2plY3RzL2phbWVzc3F1YXJlYm9va2luZ3MvbG9jYXRpb25zL2V1cm9wZS13ZXN0MS9mdW5jdGlvbnMvc2VuZEJvb2tpbmdSZW1pbmRlcnMqDAizqNy/BhCgl+2cAjIIbm9kZWpzMjA6dwojZ2NyLmlvL2dhZS1ydW50aW1lcy9ub2RlanMyMDpzdGFibGUSUGV1cm9wZS13ZXN0MS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region europe-west1
[debug] [2025-04-10T00:43:46.169Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:43:46.169Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:43:46.169Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:43:46.170Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6 [none]
[debug] [2025-04-10T00:43:47.896Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6 200
[debug] [2025-04-10T00:43:47.896Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6 {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245766332-63261dd4d9f11-1f278071-1c17daa6","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:42:47.142233685Z","endTime":"2025-04-10T00:43:39.780700036Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245767112054"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00001-fuv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-scheduled":"true","firebase-functions-hash":"748151f149d6f071df76d976fad33542b3635099"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service sendbookingreminders, Container Healthcheck failed. Revision 'sendbookingreminders-00002-xax' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=jamessquarebookings&resource=cloud_run_revision/service_name/sendbookingreminders/revision_name/sendbookingreminders-00002-xax&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbookingreminders%22%0Aresource.labels.revision_name%3D%22sendbookingreminders-00002-xax%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2025-04-10T00:43:47.896Z] Got source token undefined for region europe-west1
[error] Could not create or update Cloud Run service sendbookingreminders, Container Healthcheck failed. Revision 'sendbookingreminders-00002-xax' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=jamessquarebookings&resource=cloud_run_revision/service_name/sendbookingreminders/revision_name/sendbookingreminders-00002-xax&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbookingreminders%22%0Aresource.labels.revision_name%3D%22sendbookingreminders-00002-xax%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2025-04-10T00:43:47.904Z] Total Function Deployment time: 63219
[debug] [2025-04-10T00:43:47.904Z] 2 Functions Deployed
[debug] [2025-04-10T00:43:47.904Z] 2 Functions Errored
[debug] [2025-04-10T00:43:47.904Z] 0 Function Deployments Aborted
[debug] [2025-04-10T00:43:47.904Z] Average Function Deployment time: 35283
[info] 
[info] Functions deploy had errors with the following functions:
	sendBookingReminders(europe-west1)
	sendBookingReminders(us-central1)
[debug] [2025-04-10T00:43:48.254Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:43:48.254Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:43:48.254Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts [none]
[debug] [2025-04-10T00:43:50.025Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts 200
[debug] [2025-04-10T00:43:50.025Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts {"name":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-04-10T00:28:54.431684Z","updateTime":"2025-04-10T00:43:23.122294Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"86400s"}}},"sizeBytes":"107755925","vulnerabilityScanningConfig":{"lastEnableTime":"2025-04-10T00:28:45.105407807Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"europe-west1-docker.pkg.dev/jamessquarebookings/gcf-artifacts"}
[debug] [2025-04-10T00:43:50.026Z] Functions deploy failed.
[debug] [2025-04-10T00:43:50.026Z] {
  "endpoint": {
    "platform": "gcfv2",
    "id": "sendBookingReminders",
    "project": "jamessquarebookings",
    "region": "us-central1",
    "scheduleTrigger": {},
    "entryPoint": "sendBookingReminders",
    "runtime": "nodejs20",
    "source": {
      "storageSource": {
        "bucket": "gcf-v2-sources-310610178744-us-central1",
        "object": "sendBookingReminders/function-source.zip",
        "generation": "1744243602081797"
      }
    },
    "ingressSettings": "ALLOW_ALL",
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "jamessquarebookings",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/jamessquarebookings/locations/us-central1/services/sendBookingReminders",
      "FUNCTION_TARGET": "sendBookingReminders",
      "LOG_EXECUTION_ID": "true"
    },
    "timeoutSeconds": 60,
    "serviceAccount": "310610178744-compute@developer.gserviceaccount.com",
    "availableMemoryMb": 256,
    "cpu": 1,
    "maxInstances": 100,
    "concurrency": 80,
    "labels": {
      "firebase-functions-hash": "2168115d89333ad4ea1037cff2781f79a68eeb36",
      "deployment-tool": "cli-firebase",
      "deployment-scheduled": "true"
    },
    "runServiceId": "sendbookingreminders",
    "uri": "https://us-central1-jamessquarebookings.cloudfunctions.net/sendBookingReminders",
    "codebase": "default",
    "hash": "2168115d89333ad4ea1037cff2781f79a68eeb36",
    "state": "ACTIVE"
  },
  "op": "delete schedule",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "context": {
      "body": {
        "error": {
          "code": 404,
          "message": "Job not found.",
          "status": "NOT_FOUND"
        }
      },
      "response": {
        "statusCode": 404
      }
    },
    "exit": 1,
    "message": "Request to https://cloudscheduler.googleapis.com/v1/projects/jamessquarebookings/locations/us-central1/jobs/firebase-schedule-sendBookingReminders-us-central1 had HTTP Error: 404, Job not found.",
    "status": 404,
    "code": 404
  }
}
[debug] [2025-04-10T00:43:50.026Z] {
  "endpoint": {
    "id": "sendBookingReminders",
    "project": "jamessquarebookings",
    "region": "europe-west1",
    "entryPoint": "sendBookingReminders",
    "platform": "gcfv2",
    "runtime": "nodejs20",
    "scheduleTrigger": {
      "schedule": "0 7 * * *",
      "timeZone": "Europe/London",
      "retryConfig": {}
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": 256,
    "timeoutSeconds": 60,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "cpu": 1,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "jamessquarebookings",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders",
      "FUNCTION_TARGET": "sendBookingReminders",
      "LOG_EXECUTION_ID": "true"
    },
    "codebase": "default",
    "runServiceId": "sendbookingreminders",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": true,
    "hash": "748151f149d6f071df76d976fad33542b3635099"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service sendbookingreminders, Container Healthcheck failed. Revision 'sendbookingreminders-00002-xax' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=jamessquarebookings&resource=cloud_run_revision/service_name/sendbookingreminders/revision_name/sendbookingreminders-00002-xax&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbookingreminders%22%0Aresource.labels.revision_name%3D%22sendbookingreminders-00002-xax%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service sendbookingreminders, Container Healthcheck failed. Revision 'sendbookingreminders-00002-xax' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=jamessquarebookings&resource=cloud_run_revision/service_name/sendbookingreminders/revision_name/sendbookingreminders-00002-xax&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbookingreminders%22%0Aresource.labels.revision_name%3D%22sendbookingreminders-00002-xax%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[error] Error: There was an error deploying functions:
[error] - Error Failed to delete schedule function sendBookingReminders in region us-central1
[error] - Error Failed to update function sendBookingReminders in region europe-west1
[debug] [2025-04-10T00:45:43.296Z] ----------------------------------------------------------------------
[debug] [2025-04-10T00:45:43.305Z] Command:       /opt/homebrew/Cellar/node/23.10.0_1/bin/node /opt/homebrew/bin/firebase deploy --only functions:sendBookingReminders
[debug] [2025-04-10T00:45:43.306Z] CLI Version:   14.1.0
[debug] [2025-04-10T00:45:43.306Z] Platform:      darwin
[debug] [2025-04-10T00:45:43.306Z] Node Version:  v23.10.0
[debug] [2025-04-10T00:45:43.306Z] Time:          Thu Apr 10 2025 10:45:43 GMT+1000 (Australian Eastern Standard Time)
[debug] [2025-04-10T00:45:43.306Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-04-10T00:45:43.437Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-04-10T00:45:43.438Z] > authorizing via signed-in user (jrwishart93@gmail.com)
[debug] [2025-04-10T00:45:43.438Z] [iam] checking project jamessquarebookings for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-04-10T00:45:43.438Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:45:43.438Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:45:43.439Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions [none]
[debug] [2025-04-10T00:45:43.439Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:45:43.439Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-04-10T00:45:43.920Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions 200
[debug] [2025-04-10T00:45:43.921Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-04-10T00:45:43.921Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:45:43.921Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:45:43.921Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/jamessquarebookings/serviceAccounts/jamessquarebookings@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-04-10T00:45:43.921Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/jamessquarebookings/serviceAccounts/jamessquarebookings@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-04-10T00:45:45.291Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/jamessquarebookings/serviceAccounts/jamessquarebookings@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-04-10T00:45:45.291Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/jamessquarebookings/serviceAccounts/jamessquarebookings@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'jamessquarebookings'...
[info] 
[info] i  deploying functions 
[debug] [2025-04-10T00:45:45.295Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:45:45.295Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:45:45.295Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings [none]
[debug] [2025-04-10T00:45:45.598Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings 200
[debug] [2025-04-10T00:45:45.599Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings {"projectNumber":"310610178744","projectId":"jamessquarebookings","lifecycleState":"ACTIVE","name":"JamesSquareBookings","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-04-02T23:19:17.824610Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-04-10T00:45:45.601Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:45:45.601Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:45:45.602Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:45:45.602Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-04-10T00:45:45.602Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:45:45.602Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-04-10T00:45:45.602Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:45:45.602Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:45:45.602Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudfunctions.googleapis.com [none]
[debug] [2025-04-10T00:45:45.603Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:45:45.605Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/runtimeconfig.googleapis.com [none]
[debug] [2025-04-10T00:45:45.605Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:45:45.607Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudbuild.googleapis.com [none]
[debug] [2025-04-10T00:45:45.607Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudbuild.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:45:45.608Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/artifactregistry.googleapis.com [none]
[debug] [2025-04-10T00:45:45.608Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/artifactregistry.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:45:46.223Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudbuild.googleapis.com 200
[debug] [2025-04-10T00:45:46.224Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-04-10T00:45:47.045Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/runtimeconfig.googleapis.com 200
[debug] [2025-04-10T00:45:47.045Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-04-10T00:45:47.046Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/artifactregistry.googleapis.com 200
[debug] [2025-04-10T00:45:47.046Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-04-10T00:45:47.104Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudfunctions.googleapis.com 200
[debug] [2025-04-10T00:45:47.104Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-04-10T00:45:47.105Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:45:47.105Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:45:47.105Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/jamessquarebookings/adminSdkConfig [none]
[debug] [2025-04-10T00:45:47.702Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/jamessquarebookings/adminSdkConfig 200
[debug] [2025-04-10T00:45:47.702Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/jamessquarebookings/adminSdkConfig {"projectId":"jamessquarebookings","databaseURL":"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"jamessquarebookings.firebasestorage.app"}
[debug] [2025-04-10T00:45:47.702Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:45:47.702Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:45:47.703Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs [none]
[debug] [2025-04-10T00:45:48.284Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs 200
[debug] [2025-04-10T00:45:48.284Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs {"configs":[{"name":"projects/jamessquarebookings/configs/resend"}]}
[debug] [2025-04-10T00:45:48.285Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:45:48.285Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:45:48.285Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables [none]
[debug] [2025-04-10T00:45:48.731Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables 200
[debug] [2025-04-10T00:45:48.732Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables {"variables":[{"name":"projects/jamessquarebookings/configs/resend/variables/api_key","updateTime":"2025-04-09T15:38:56.326430028Z"}]}
[debug] [2025-04-10T00:45:48.732Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:45:48.732Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:45:48.732Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables/api_key [none]
[debug] [2025-04-10T00:45:49.891Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables/api_key 200
[debug] [2025-04-10T00:45:49.892Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables/api_key {"name":"projects/jamessquarebookings/configs/resend/variables/api_key","updateTime":"2025-04-09T15:38:56.326430028Z","text":"re_jScpRRyK_MWPMeCgcjJB6opm4V4BeU8Ce"}
[debug] [2025-04-10T00:45:49.894Z] Validating nodejs source
[debug] [2025-04-10T00:45:50.649Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^13.2.0",
    "firebase-functions": "^6.3.2"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-04-10T00:45:50.649Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-04-10T00:45:50.650Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-10T00:45:50.656Z] Found firebase-functions binary at '/Users/macbookair/Documents/James Square Website Folder/james-square-booking/node_modules/.bin/firebase-functions'
[info] Serving at port 8685

[debug] [2025-04-10T00:45:52.228Z] Got response from /__/functions.yaml {"endpoints":{"sendBookingReminders":{"availableMemoryMb":null,"timeoutSeconds":60,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","region":["europe-west1"],"labels":{},"scheduleTrigger":{"schedule":"0 7 * * *","retryConfig":{},"timeZone":"Europe/London"},"entryPoint":"sendBookingReminders"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-04-10T00:45:56.259Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:45:56.259Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:45:56.259Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/firebaseextensions.googleapis.com [none]
[debug] [2025-04-10T00:45:56.259Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:45:57.688Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/firebaseextensions.googleapis.com 200
[debug] [2025-04-10T00:45:57.689Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/firebaseextensions.googleapis.com [omitted]
[info] ✔  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2025-04-10T00:45:57.689Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-04-10T00:45:57.690Z] > authorizing via signed-in user (jrwishart93@gmail.com)
[debug] [2025-04-10T00:45:57.690Z] [iam] checking project jamessquarebookings for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-04-10T00:45:57.690Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:45:57.690Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:45:57.690Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions [none]
[debug] [2025-04-10T00:45:57.691Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:45:57.691Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-04-10T00:45:58.821Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions 200
[debug] [2025-04-10T00:45:58.821Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-04-10T00:45:58.822Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:45:58.823Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:45:58.823Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/jamessquarebookings/instances pageSize=100&pageToken=
[debug] [2025-04-10T00:46:00.147Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/jamessquarebookings/instances 200
[debug] [2025-04-10T00:46:00.148Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/jamessquarebookings/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/macbookair/Documents/James Square Website Folder/james-square-booking/functions (93.13 KB) for uploading 
[debug] [2025-04-10T00:46:00.199Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:00.199Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:00.199Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/jamessquarebookings/locations/-/functions [none]
[debug] [2025-04-10T00:46:01.415Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/jamessquarebookings/locations/-/functions 200
[debug] [2025-04-10T00:46:01.415Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/jamessquarebookings/locations/-/functions {}
[debug] [2025-04-10T00:46:01.416Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:01.416Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:01.416Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-04-10T00:46:03.074Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/-/functions 200
[debug] [2025-04-10T00:46:03.075Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/-/functions {"functions":[{"name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"build":"projects/310610178744/locations/europe-west1/builds/2b9abc93-2e15-4923-912d-f517f8469d24","runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245767112054"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"maxInstanceCount":100,"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00002-xax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-04-10T00:43:39.786289656Z","labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"748151f149d6f071df76d976fad33542b3635099"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","createTime":"2025-04-10T00:28:44.939081992Z","satisfiesPzi":true},{"name":"projects/jamessquarebookings/locations/us-central1/functions/sendBookingReminders","buildConfig":{"build":"projects/310610178744/locations/us-central1/builds/7c84b820-f7d5-4121-94c3-a05b92da4e06","runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-us-central1","object":"sendBookingReminders/function-source.zip","generation":"1744243602081797"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/us-central1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/us-central1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"maxInstanceCount":100,"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00004-qin","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"DELETING","updateTime":"2025-04-10T00:46:02.350291042Z","labels":{"deployment-scheduled":"true","firebase-functions-hash":"2168115d89333ad4ea1037cff2781f79a68eeb36","deployment-tool":"cli-firebase"},"environment":"GEN_2","url":"https://us-central1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","createTime":"2025-04-09T23:42:35.404980178Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API cloudscheduler.googleapis.com is enabled... 
[debug] [2025-04-10T00:46:03.079Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:03.080Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:03.080Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudscheduler.googleapis.com [none]
[debug] [2025-04-10T00:46:03.080Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudscheduler.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:46:03.631Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudscheduler.googleapis.com 200
[debug] [2025-04-10T00:46:03.632Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudscheduler.googleapis.com [omitted]
[info] ✔  functions: required API cloudscheduler.googleapis.com is enabled 
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2025-04-10T00:46:03.632Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:03.633Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2025-04-10T00:46:03.633Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:03.633Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2025-04-10T00:46:03.633Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:03.633Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2025-04-10T00:46:03.633Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:03.633Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:03.633Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/run.googleapis.com [none]
[debug] [2025-04-10T00:46:03.633Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/run.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:46:03.634Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/eventarc.googleapis.com [none]
[debug] [2025-04-10T00:46:03.634Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/eventarc.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:46:03.636Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/pubsub.googleapis.com [none]
[debug] [2025-04-10T00:46:03.636Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/pubsub.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:46:03.637Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/storage.googleapis.com [none]
[debug] [2025-04-10T00:46:03.637Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/storage.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:46:03.959Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/run.googleapis.com 200
[debug] [2025-04-10T00:46:03.959Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/run.googleapis.com [omitted]
[info] ✔  functions: required API run.googleapis.com is enabled 
[debug] [2025-04-10T00:46:05.082Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/eventarc.googleapis.com 200
[debug] [2025-04-10T00:46:05.083Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/eventarc.googleapis.com [omitted]
[info] ✔  functions: required API eventarc.googleapis.com is enabled 
[debug] [2025-04-10T00:46:05.085Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/pubsub.googleapis.com 200
[debug] [2025-04-10T00:46:05.085Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/pubsub.googleapis.com [omitted]
[info] ✔  functions: required API pubsub.googleapis.com is enabled 
[debug] [2025-04-10T00:46:05.086Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/storage.googleapis.com 200
[debug] [2025-04-10T00:46:05.086Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/storage.googleapis.com [omitted]
[info] ✔  functions: required API storage.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-04-10T00:46:05.087Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:05.087Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-04-10T00:46:05.087Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:05.087Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:05.087Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-04-10T00:46:05.088Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-04-10T00:46:05.438Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-04-10T00:46:05.438Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-310610178744@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"104019192513188928983"}}
[debug] [2025-04-10T00:46:05.515Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-04-10T00:46:05.516Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-310610178744@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"111420325653517524147"}}
[debug] [2025-04-10T00:46:05.518Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:05.518Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:05.518Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings [none]
[debug] [2025-04-10T00:46:06.031Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings 200
[debug] [2025-04-10T00:46:06.031Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings {"projectNumber":"310610178744","projectId":"jamessquarebookings","lifecycleState":"ACTIVE","name":"JamesSquareBookings","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-04-02T23:19:17.824610Z"}
[debug] [2025-04-10T00:46:06.033Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:06.033Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:06.033Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/jamessquarebookings/billingInfo [none]
[debug] [2025-04-10T00:46:07.652Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/jamessquarebookings/billingInfo 200
[debug] [2025-04-10T00:46:07.652Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/jamessquarebookings/billingInfo {"name":"projects/jamessquarebookings/billingInfo","projectId":"jamessquarebookings","billingAccountName":"billingAccounts/012001-FEC581-4622EF","billingEnabled":true}
[debug] [2025-04-10T00:46:07.655Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:07.655Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:07.656Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions:generateUploadUrl [none]
[debug] [2025-04-10T00:46:09.263Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions:generateUploadUrl 200
[debug] [2025-04-10T00:46:09.263Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/a67636a6-2285-4605-b786-fb9bfe1b7bb8.zip?GoogleAccessId=service-310610178744@gcf-admin-robot.iam.gserviceaccount.com&Expires=1744247769&Signature=QGpkJyO0Polr5mGnl5nz9mCJS3%2BL79DqDW4uYDLk6VAJ%2BII3QeQDzlJKeQKAsK%2BIBG12MSH%2F4HYXvEEa2a5SStcPrW%2Bd9b2V37i1J6Ark3ObD8WHoeHRzPVD1gahhih3BVs%2FPvdbRgiY0TkIs2JgvpD4%2FFA3nnkeo6ycFja4dBVX90lSA%2Bg05DuNDKznMgHzo3obExIrljwLuMbkgLm9iPuF3WQSk2r1xP52u6TYlXM3BOjj9hA1JLMYY8Yt9LDP%2BNOo7TZZ2Qlax6uydBJVv2Xl1fE%2Fi8VVKii4K54Cl8hNVHbUhKWExUhAOcPXbz8TO0WwEO08U9Rh7MpajKdxXA%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com","object":"a67636a6-2285-4605-b786-fb9bfe1b7bb8.zip"}}
[debug] [2025-04-10T00:46:09.265Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/a67636a6-2285-4605-b786-fb9bfe1b7bb8.zip GoogleAccessId=service-310610178744%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1744247769&Signature=QGpkJyO0Polr5mGnl5nz9mCJS3%2BL79DqDW4uYDLk6VAJ%2BII3QeQDzlJKeQKAsK%2BIBG12MSH%2F4HYXvEEa2a5SStcPrW%2Bd9b2V37i1J6Ark3ObD8WHoeHRzPVD1gahhih3BVs%2FPvdbRgiY0TkIs2JgvpD4%2FFA3nnkeo6ycFja4dBVX90lSA%2Bg05DuNDKznMgHzo3obExIrljwLuMbkgLm9iPuF3WQSk2r1xP52u6TYlXM3BOjj9hA1JLMYY8Yt9LDP%2BNOo7TZZ2Qlax6uydBJVv2Xl1fE%2Fi8VVKii4K54Cl8hNVHbUhKWExUhAOcPXbz8TO0WwEO08U9Rh7MpajKdxXA%3D%3D
[debug] [2025-04-10T00:46:09.265Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/a67636a6-2285-4605-b786-fb9bfe1b7bb8.zip [stream]
[debug] [2025-04-10T00:46:12.026Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/a67636a6-2285-4605-b786-fb9bfe1b7bb8.zip 200
[debug] [2025-04-10T00:46:12.026Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/a67636a6-2285-4605-b786-fb9bfe1b7bb8.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] 
The following functions are found in your project but do not exist in your local source code:
	sendBookingReminders(us-central1)

If you are renaming a function or changing its region, it is recommended that you create the new function first before deleting the old one to prevent event loss. For more info, visit https://firebase.google.com/docs/functions/manage-functions#modify

[info] i  functions: updating Node.js 20 (2nd Gen) function sendBookingReminders(europe-west1)... 
[debug] [2025-04-10T00:46:14.647Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:14.647Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: deleting Node.js 20 (2nd Gen) function sendBookingReminders(us-central1)... 
[debug] [2025-04-10T00:46:14.648Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:14.648Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:14.648Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2025-04-10T00:46:14.648Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders {"name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com","object":"a67636a6-2285-4605-b786-fb9bfe1b7bb8.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":60,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"0886662f30dc038e05fc5b426812728f22aca47f"}}
[debug] [2025-04-10T00:46:14.650Z] >>> [apiv2][query] DELETE https://cloudscheduler.googleapis.com/v1/projects/jamessquarebookings/locations/us-central1/jobs/firebase-schedule-sendBookingReminders-us-central1 [none]
[debug] [2025-04-10T00:46:17.254Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders 200
[debug] [2025-04-10T00:46:17.255Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:46:17.090617153Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-04-10T00:46:17.255Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:17.256Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:17.256Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b [none]
[debug] [2025-04-10T00:46:18.791Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b 200
[debug] [2025-04-10T00:46:18.791Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:46:17.090617153Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245977048240"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00002-xax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-scheduled":"true","firebase-functions-hash":"0886662f30dc038e05fc5b426812728f22aca47f"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/0b6036fe-474c-413e-89ff-ad0edf269466","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/0b6036fe-474c-413e-89ff-ad0edf269466?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/0b6036fe-474c-413e-89ff-ad0edf269466"},"done":false}
[debug] [2025-04-10T00:46:19.293Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:46:19.294Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:19.294Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:19.294Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b [none]
[debug] [2025-04-10T00:46:20.867Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b 200
[debug] [2025-04-10T00:46:20.868Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:46:17.090617153Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245977048240"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00002-xax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-scheduled":"true","firebase-functions-hash":"0886662f30dc038e05fc5b426812728f22aca47f"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/0b6036fe-474c-413e-89ff-ad0edf269466","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/0b6036fe-474c-413e-89ff-ad0edf269466?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/0b6036fe-474c-413e-89ff-ad0edf269466"},"done":false}
[debug] [2025-04-10T00:46:21.756Z] <<< [apiv2][status] DELETE https://cloudscheduler.googleapis.com/v1/projects/jamessquarebookings/locations/us-central1/jobs/firebase-schedule-sendBookingReminders-us-central1 404
[debug] [2025-04-10T00:46:21.756Z] <<< [apiv2][body] DELETE https://cloudscheduler.googleapis.com/v1/projects/jamessquarebookings/locations/us-central1/jobs/firebase-schedule-sendBookingReminders-us-central1 {"error":{"code":404,"message":"Job not found.","status":"NOT_FOUND"}}
[error] Request to https://cloudscheduler.googleapis.com/v1/projects/jamessquarebookings/locations/us-central1/jobs/firebase-schedule-sendBookingReminders-us-central1 had HTTP Error: 404, Job not found.
[debug] [2025-04-10T00:46:21.869Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:46:21.870Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:21.870Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:21.870Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b [none]
[debug] [2025-04-10T00:46:23.496Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b 200
[debug] [2025-04-10T00:46:23.497Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:46:17.090617153Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245977048240"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00002-xax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-scheduled":"true","firebase-functions-hash":"0886662f30dc038e05fc5b426812728f22aca47f"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/0b6036fe-474c-413e-89ff-ad0edf269466","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/0b6036fe-474c-413e-89ff-ad0edf269466?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/0b6036fe-474c-413e-89ff-ad0edf269466"},"done":false}
[debug] [2025-04-10T00:46:25.499Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:46:25.499Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:25.500Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:25.500Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b [none]
[debug] [2025-04-10T00:46:27.079Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b 200
[debug] [2025-04-10T00:46:27.079Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:46:17.090617153Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245977048240"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00002-xax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-scheduled":"true","firebase-functions-hash":"0886662f30dc038e05fc5b426812728f22aca47f"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/0b6036fe-474c-413e-89ff-ad0edf269466","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/0b6036fe-474c-413e-89ff-ad0edf269466?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/0b6036fe-474c-413e-89ff-ad0edf269466"},"done":false}
[debug] [2025-04-10T00:46:31.081Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:46:31.082Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:31.082Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:31.082Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b [none]
[debug] [2025-04-10T00:46:32.713Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b 200
[debug] [2025-04-10T00:46:32.713Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:46:17.090617153Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245977048240"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00002-xax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-scheduled":"true","firebase-functions-hash":"0886662f30dc038e05fc5b426812728f22aca47f"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/0b6036fe-474c-413e-89ff-ad0edf269466","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/0b6036fe-474c-413e-89ff-ad0edf269466?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/0b6036fe-474c-413e-89ff-ad0edf269466"},"done":false}
[debug] [2025-04-10T00:46:40.715Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:46:40.716Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:40.716Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:40.716Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b [none]
[debug] [2025-04-10T00:46:42.441Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b 200
[debug] [2025-04-10T00:46:42.442Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:46:17.090617153Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245977048240"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00002-xax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-scheduled":"true","firebase-functions-hash":"0886662f30dc038e05fc5b426812728f22aca47f"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/0b6036fe-474c-413e-89ff-ad0edf269466","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/0b6036fe-474c-413e-89ff-ad0edf269466?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/0b6036fe-474c-413e-89ff-ad0edf269466"},"done":false}
[debug] [2025-04-10T00:46:52.443Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:46:52.444Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:52.444Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:46:52.444Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b [none]
[debug] [2025-04-10T00:46:54.272Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b 200
[debug] [2025-04-10T00:46:54.272Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:46:17.090617153Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245977048240"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00002-xax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-scheduled":"true","firebase-functions-hash":"0886662f30dc038e05fc5b426812728f22aca47f"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/0b6036fe-474c-413e-89ff-ad0edf269466","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/0b6036fe-474c-413e-89ff-ad0edf269466?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/0b6036fe-474c-413e-89ff-ad0edf269466"},"done":false}
[debug] [2025-04-10T00:47:04.274Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:47:04.275Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:47:04.275Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:47:04.275Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b [none]
[debug] [2025-04-10T00:47:06.094Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b 200
[debug] [2025-04-10T00:47:06.095Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:46:17.090617153Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245977048240"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00002-xax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-scheduled":"true","firebase-functions-hash":"0886662f30dc038e05fc5b426812728f22aca47f"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/310610178744/locations/europe-west1/builds/0b6036fe-474c-413e-89ff-ad0edf269466","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/0b6036fe-474c-413e-89ff-ad0edf269466?project=310610178744"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","resourceUri":"https://console.cloud.google.com/run/detail/europe-west1/sendbookingreminders?project=jamessquarebookings","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8zMTA2MTAxNzg3NDQvbG9jYXRpb25zL2V1cm9wZS13ZXN0MS9idWlsZHMvMGI2MDM2ZmUtNDc0Yy00MTNlLTg5ZmYtYWQwZWRmMjY5NDY2EoIBZXVyb3BlLXdlc3QxLWRvY2tlci5wa2cuZGV2L2phbWVzc3F1YXJlYm9va2luZ3MvZ2NmLWFydGlmYWN0cy9qYW1lc3NxdWFyZWJvb2tpbmdzX19ldXJvcGUtLXdlc3QxX19zZW5kX2Jvb2tpbmdfcmVtaW5kZXJzOnZlcnNpb25fMRi45byOhQkiUnByb2plY3RzL2phbWVzc3F1YXJlYm9va2luZ3MvbG9jYXRpb25zL2V1cm9wZS13ZXN0MS9mdW5jdGlvbnMvc2VuZEJvb2tpbmdSZW1pbmRlcnMqDAiAqty/BhCol9qAATIIbm9kZWpzMjA6dwojZ2NyLmlvL2dhZS1ydW50aW1lcy9ub2RlanMyMDpzdGFibGUSUGV1cm9wZS13ZXN0MS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/0b6036fe-474c-413e-89ff-ad0edf269466"},"done":false}
[debug] [2025-04-10T00:47:06.095Z] Got source token Clhwcm9qZWN0cy8zMTA2MTAxNzg3NDQvbG9jYXRpb25zL2V1cm9wZS13ZXN0MS9idWlsZHMvMGI2MDM2ZmUtNDc0Yy00MTNlLTg5ZmYtYWQwZWRmMjY5NDY2EoIBZXVyb3BlLXdlc3QxLWRvY2tlci5wa2cuZGV2L2phbWVzc3F1YXJlYm9va2luZ3MvZ2NmLWFydGlmYWN0cy9qYW1lc3NxdWFyZWJvb2tpbmdzX19ldXJvcGUtLXdlc3QxX19zZW5kX2Jvb2tpbmdfcmVtaW5kZXJzOnZlcnNpb25fMRi45byOhQkiUnByb2plY3RzL2phbWVzc3F1YXJlYm9va2luZ3MvbG9jYXRpb25zL2V1cm9wZS13ZXN0MS9mdW5jdGlvbnMvc2VuZEJvb2tpbmdSZW1pbmRlcnMqDAiAqty/BhCol9qAATIIbm9kZWpzMjA6dwojZ2NyLmlvL2dhZS1ydW50aW1lcy9ub2RlanMyMDpzdGFibGUSUGV1cm9wZS13ZXN0MS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region europe-west1
[debug] [2025-04-10T00:47:16.096Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:47:16.096Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:47:16.097Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:47:16.097Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b [none]
[debug] [2025-04-10T00:47:17.871Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b 200
[debug] [2025-04-10T00:47:17.871Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744245976303-63261e9d1893f-c700fc00-46e0431b","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:46:17.090617153Z","endTime":"2025-04-10T00:47:10.861566478Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245977048240"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00002-xax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-scheduled":"true","firebase-functions-hash":"0886662f30dc038e05fc5b426812728f22aca47f"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service sendbookingreminders, Container Healthcheck failed. Revision 'sendbookingreminders-00003-xum' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=jamessquarebookings&resource=cloud_run_revision/service_name/sendbookingreminders/revision_name/sendbookingreminders-00003-xum&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbookingreminders%22%0Aresource.labels.revision_name%3D%22sendbookingreminders-00003-xum%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2025-04-10T00:47:17.871Z] Got source token undefined for region europe-west1
[error] Could not create or update Cloud Run service sendbookingreminders, Container Healthcheck failed. Revision 'sendbookingreminders-00003-xum' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=jamessquarebookings&resource=cloud_run_revision/service_name/sendbookingreminders/revision_name/sendbookingreminders-00003-xum&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbookingreminders%22%0Aresource.labels.revision_name%3D%22sendbookingreminders-00003-xum%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2025-04-10T00:47:17.881Z] Total Function Deployment time: 63228
[debug] [2025-04-10T00:47:17.881Z] 2 Functions Deployed
[debug] [2025-04-10T00:47:17.881Z] 2 Functions Errored
[debug] [2025-04-10T00:47:17.881Z] 0 Function Deployments Aborted
[debug] [2025-04-10T00:47:17.881Z] Average Function Deployment time: 35169
[info] 
[info] Functions deploy had errors with the following functions:
	sendBookingReminders(europe-west1)
	sendBookingReminders(us-central1)
[debug] [2025-04-10T00:47:18.533Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:47:18.533Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:47:18.534Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts [none]
[debug] [2025-04-10T00:47:20.532Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts 200
[debug] [2025-04-10T00:47:20.532Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts {"name":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-04-10T00:28:54.431684Z","updateTime":"2025-04-10T00:46:43.268364Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"86400s"}}},"sizeBytes":"119342043","vulnerabilityScanningConfig":{"lastEnableTime":"2025-04-10T00:28:45.105407807Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"europe-west1-docker.pkg.dev/jamessquarebookings/gcf-artifacts"}
[debug] [2025-04-10T00:47:20.533Z] Functions deploy failed.
[debug] [2025-04-10T00:47:20.533Z] {
  "endpoint": {
    "platform": "gcfv2",
    "id": "sendBookingReminders",
    "project": "jamessquarebookings",
    "region": "us-central1",
    "scheduleTrigger": {},
    "entryPoint": "sendBookingReminders",
    "runtime": "nodejs20",
    "source": {
      "storageSource": {
        "bucket": "gcf-v2-sources-310610178744-us-central1",
        "object": "sendBookingReminders/function-source.zip",
        "generation": "1744243602081797"
      }
    },
    "ingressSettings": "ALLOW_ALL",
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "jamessquarebookings",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/jamessquarebookings/locations/us-central1/services/sendBookingReminders",
      "FUNCTION_TARGET": "sendBookingReminders",
      "LOG_EXECUTION_ID": "true"
    },
    "timeoutSeconds": 60,
    "serviceAccount": "310610178744-compute@developer.gserviceaccount.com",
    "availableMemoryMb": 256,
    "cpu": 1,
    "maxInstances": 100,
    "concurrency": 80,
    "labels": {
      "deployment-scheduled": "true",
      "firebase-functions-hash": "2168115d89333ad4ea1037cff2781f79a68eeb36",
      "deployment-tool": "cli-firebase"
    },
    "runServiceId": "sendbookingreminders",
    "uri": "https://us-central1-jamessquarebookings.cloudfunctions.net/sendBookingReminders",
    "codebase": "default",
    "hash": "2168115d89333ad4ea1037cff2781f79a68eeb36",
    "state": "DELETING"
  },
  "op": "delete schedule",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "context": {
      "body": {
        "error": {
          "code": 404,
          "message": "Job not found.",
          "status": "NOT_FOUND"
        }
      },
      "response": {
        "statusCode": 404
      }
    },
    "exit": 1,
    "message": "Request to https://cloudscheduler.googleapis.com/v1/projects/jamessquarebookings/locations/us-central1/jobs/firebase-schedule-sendBookingReminders-us-central1 had HTTP Error: 404, Job not found.",
    "status": 404,
    "code": 404
  }
}
[debug] [2025-04-10T00:47:20.533Z] {
  "endpoint": {
    "id": "sendBookingReminders",
    "project": "jamessquarebookings",
    "region": "europe-west1",
    "entryPoint": "sendBookingReminders",
    "platform": "gcfv2",
    "runtime": "nodejs20",
    "scheduleTrigger": {
      "schedule": "0 7 * * *",
      "timeZone": "Europe/London",
      "retryConfig": {}
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": 60,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "jamessquarebookings",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders",
      "FUNCTION_TARGET": "sendBookingReminders",
      "LOG_EXECUTION_ID": "true"
    },
    "codebase": "default",
    "runServiceId": "sendbookingreminders",
    "cpu": 1,
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": true,
    "hash": "0886662f30dc038e05fc5b426812728f22aca47f"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service sendbookingreminders, Container Healthcheck failed. Revision 'sendbookingreminders-00003-xum' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=jamessquarebookings&resource=cloud_run_revision/service_name/sendbookingreminders/revision_name/sendbookingreminders-00003-xum&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbookingreminders%22%0Aresource.labels.revision_name%3D%22sendbookingreminders-00003-xum%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service sendbookingreminders, Container Healthcheck failed. Revision 'sendbookingreminders-00003-xum' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=jamessquarebookings&resource=cloud_run_revision/service_name/sendbookingreminders/revision_name/sendbookingreminders-00003-xum&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbookingreminders%22%0Aresource.labels.revision_name%3D%22sendbookingreminders-00003-xum%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[error] Error: There was an error deploying functions:
[error] - Error Failed to delete schedule function sendBookingReminders in region us-central1
[error] - Error Failed to update function sendBookingReminders in region europe-west1
[debug] [2025-04-10T00:47:56.663Z] ----------------------------------------------------------------------
[debug] [2025-04-10T00:47:56.665Z] Command:       /opt/homebrew/Cellar/node/23.10.0_1/bin/node /opt/homebrew/bin/firebase deploy --only functions:sendBookingReminders
[debug] [2025-04-10T00:47:56.666Z] CLI Version:   14.1.0
[debug] [2025-04-10T00:47:56.666Z] Platform:      darwin
[debug] [2025-04-10T00:47:56.666Z] Node Version:  v23.10.0
[debug] [2025-04-10T00:47:56.666Z] Time:          Thu Apr 10 2025 10:47:56 GMT+1000 (Australian Eastern Standard Time)
[debug] [2025-04-10T00:47:56.666Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-04-10T00:47:56.795Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-04-10T00:47:56.795Z] > authorizing via signed-in user (jrwishart93@gmail.com)
[debug] [2025-04-10T00:47:56.795Z] [iam] checking project jamessquarebookings for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-04-10T00:47:56.796Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:47:56.796Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:47:56.797Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions [none]
[debug] [2025-04-10T00:47:56.797Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:47:56.797Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-04-10T00:47:57.276Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions 200
[debug] [2025-04-10T00:47:57.277Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-04-10T00:47:57.277Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:47:57.277Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:47:57.277Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/jamessquarebookings/serviceAccounts/jamessquarebookings@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-04-10T00:47:57.277Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/jamessquarebookings/serviceAccounts/jamessquarebookings@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-04-10T00:47:57.911Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/jamessquarebookings/serviceAccounts/jamessquarebookings@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-04-10T00:47:57.912Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/jamessquarebookings/serviceAccounts/jamessquarebookings@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'jamessquarebookings'...
[info] 
[info] i  deploying functions 
[debug] [2025-04-10T00:47:57.916Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:47:57.916Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:47:57.917Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings [none]
[debug] [2025-04-10T00:47:58.204Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings 200
[debug] [2025-04-10T00:47:58.204Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings {"projectNumber":"310610178744","projectId":"jamessquarebookings","lifecycleState":"ACTIVE","name":"JamesSquareBookings","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-04-02T23:19:17.824610Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-04-10T00:47:58.206Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:47:58.206Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:47:58.206Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:47:58.206Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-04-10T00:47:58.207Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:47:58.207Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-04-10T00:47:58.207Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:47:58.207Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:47:58.207Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudfunctions.googleapis.com [none]
[debug] [2025-04-10T00:47:58.207Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:47:58.209Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/runtimeconfig.googleapis.com [none]
[debug] [2025-04-10T00:47:58.209Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:47:58.211Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudbuild.googleapis.com [none]
[debug] [2025-04-10T00:47:58.211Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudbuild.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:47:58.212Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/artifactregistry.googleapis.com [none]
[debug] [2025-04-10T00:47:58.212Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/artifactregistry.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:47:59.656Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudbuild.googleapis.com 200
[debug] [2025-04-10T00:47:59.656Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-04-10T00:47:59.659Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudfunctions.googleapis.com 200
[debug] [2025-04-10T00:47:59.659Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-04-10T00:47:59.659Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/runtimeconfig.googleapis.com 200
[debug] [2025-04-10T00:47:59.659Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-04-10T00:47:59.670Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/artifactregistry.googleapis.com 200
[debug] [2025-04-10T00:47:59.671Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-04-10T00:47:59.671Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:47:59.671Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:47:59.671Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/jamessquarebookings/adminSdkConfig [none]
[debug] [2025-04-10T00:48:00.489Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/jamessquarebookings/adminSdkConfig 200
[debug] [2025-04-10T00:48:00.489Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/jamessquarebookings/adminSdkConfig {"projectId":"jamessquarebookings","databaseURL":"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"jamessquarebookings.firebasestorage.app"}
[debug] [2025-04-10T00:48:00.490Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:00.490Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:00.490Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs [none]
[debug] [2025-04-10T00:48:01.145Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs 200
[debug] [2025-04-10T00:48:01.145Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs {"configs":[{"name":"projects/jamessquarebookings/configs/resend"}]}
[debug] [2025-04-10T00:48:01.146Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:01.147Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:01.147Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables [none]
[debug] [2025-04-10T00:48:02.325Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables 200
[debug] [2025-04-10T00:48:02.326Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables {"variables":[{"name":"projects/jamessquarebookings/configs/resend/variables/api_key","updateTime":"2025-04-09T15:38:56.326430028Z"}]}
[debug] [2025-04-10T00:48:02.326Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:02.327Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:02.327Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables/api_key [none]
[debug] [2025-04-10T00:48:02.743Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables/api_key 200
[debug] [2025-04-10T00:48:02.744Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/jamessquarebookings/configs/resend/variables/api_key {"name":"projects/jamessquarebookings/configs/resend/variables/api_key","updateTime":"2025-04-09T15:38:56.326430028Z","text":"re_jScpRRyK_MWPMeCgcjJB6opm4V4BeU8Ce"}
[debug] [2025-04-10T00:48:02.746Z] Validating nodejs source
[debug] [2025-04-10T00:48:03.466Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^13.2.0",
    "firebase-functions": "^6.3.2"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-04-10T00:48:03.466Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-04-10T00:48:03.467Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-10T00:48:03.474Z] Found firebase-functions binary at '/Users/macbookair/Documents/James Square Website Folder/james-square-booking/node_modules/.bin/firebase-functions'
[info] Serving at port 8385

[debug] [2025-04-10T00:48:04.004Z] Got response from /__/functions.yaml {"endpoints":{"sendBookingReminders":{"availableMemoryMb":null,"timeoutSeconds":60,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","region":["europe-west1"],"labels":{},"scheduleTrigger":{"schedule":"0 7 * * *","retryConfig":{},"timeZone":"Europe/London"},"entryPoint":"sendBookingReminders"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-04-10T00:48:08.032Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:08.032Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:08.032Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/firebaseextensions.googleapis.com [none]
[debug] [2025-04-10T00:48:08.032Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:48:08.560Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/firebaseextensions.googleapis.com 200
[debug] [2025-04-10T00:48:08.560Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/firebaseextensions.googleapis.com [omitted]
[info] ✔  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2025-04-10T00:48:08.560Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-04-10T00:48:08.561Z] > authorizing via signed-in user (jrwishart93@gmail.com)
[debug] [2025-04-10T00:48:08.561Z] [iam] checking project jamessquarebookings for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-04-10T00:48:08.561Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:08.561Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:08.561Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions [none]
[debug] [2025-04-10T00:48:08.561Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:48:08.561Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-04-10T00:48:09.862Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions 200
[debug] [2025-04-10T00:48:09.863Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-04-10T00:48:09.864Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:09.864Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:09.864Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/jamessquarebookings/instances pageSize=100&pageToken=
[debug] [2025-04-10T00:48:11.298Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/jamessquarebookings/instances 200
[debug] [2025-04-10T00:48:11.299Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/jamessquarebookings/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/macbookair/Documents/James Square Website Folder/james-square-booking/functions (93.13 KB) for uploading 
[debug] [2025-04-10T00:48:11.340Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:11.340Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:11.340Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/jamessquarebookings/locations/-/functions [none]
[debug] [2025-04-10T00:48:12.391Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/jamessquarebookings/locations/-/functions 200
[debug] [2025-04-10T00:48:12.391Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/jamessquarebookings/locations/-/functions {}
[debug] [2025-04-10T00:48:12.392Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:12.392Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:12.392Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-04-10T00:48:14.035Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/-/functions 200
[debug] [2025-04-10T00:48:14.035Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/-/functions {"functions":[{"name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"build":"projects/310610178744/locations/europe-west1/builds/0b6036fe-474c-413e-89ff-ad0edf269466","runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744245977048240"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"maxInstanceCount":100,"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00003-xum","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-04-10T00:47:10.869340540Z","labels":{"deployment-scheduled":"true","firebase-functions-hash":"0886662f30dc038e05fc5b426812728f22aca47f","deployment-tool":"cli-firebase"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","createTime":"2025-04-10T00:28:44.939081992Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API cloudscheduler.googleapis.com is enabled... 
[debug] [2025-04-10T00:48:14.041Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:14.041Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:14.041Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudscheduler.googleapis.com [none]
[debug] [2025-04-10T00:48:14.041Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudscheduler.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:48:14.595Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudscheduler.googleapis.com 200
[debug] [2025-04-10T00:48:14.595Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/cloudscheduler.googleapis.com [omitted]
[info] ✔  functions: required API cloudscheduler.googleapis.com is enabled 
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2025-04-10T00:48:14.596Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:14.596Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2025-04-10T00:48:14.597Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:14.597Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2025-04-10T00:48:14.597Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:14.597Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2025-04-10T00:48:14.598Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:14.598Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:14.598Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/run.googleapis.com [none]
[debug] [2025-04-10T00:48:14.598Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/run.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:48:14.598Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/eventarc.googleapis.com [none]
[debug] [2025-04-10T00:48:14.598Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/eventarc.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:48:14.600Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/pubsub.googleapis.com [none]
[debug] [2025-04-10T00:48:14.600Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/pubsub.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:48:14.601Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/storage.googleapis.com [none]
[debug] [2025-04-10T00:48:14.601Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/storage.googleapis.com x-goog-quota-user=projects/jamessquarebookings
[debug] [2025-04-10T00:48:15.361Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/storage.googleapis.com 200
[debug] [2025-04-10T00:48:15.362Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/storage.googleapis.com [omitted]
[info] ✔  functions: required API storage.googleapis.com is enabled 
[debug] [2025-04-10T00:48:15.452Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/run.googleapis.com 200
[debug] [2025-04-10T00:48:15.452Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/run.googleapis.com [omitted]
[info] ✔  functions: required API run.googleapis.com is enabled 
[debug] [2025-04-10T00:48:16.038Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/eventarc.googleapis.com 200
[debug] [2025-04-10T00:48:16.038Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/eventarc.googleapis.com [omitted]
[info] ✔  functions: required API eventarc.googleapis.com is enabled 
[debug] [2025-04-10T00:48:16.040Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/pubsub.googleapis.com 200
[debug] [2025-04-10T00:48:16.040Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/jamessquarebookings/services/pubsub.googleapis.com [omitted]
[info] ✔  functions: required API pubsub.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-04-10T00:48:16.042Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:16.042Z] Checked if tokens are valid: true, expires at: 1744247178218
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-04-10T00:48:16.042Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:16.042Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:16.042Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-04-10T00:48:16.043Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-04-10T00:48:16.398Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-04-10T00:48:16.398Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-310610178744@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"111420325653517524147"}}
[debug] [2025-04-10T00:48:16.399Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-04-10T00:48:16.399Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/310610178744/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-310610178744@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"104019192513188928983"}}
[debug] [2025-04-10T00:48:16.404Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:16.404Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:16.404Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings [none]
[debug] [2025-04-10T00:48:16.879Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings 200
[debug] [2025-04-10T00:48:16.880Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/jamessquarebookings {"projectNumber":"310610178744","projectId":"jamessquarebookings","lifecycleState":"ACTIVE","name":"JamesSquareBookings","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-04-02T23:19:17.824610Z"}
[debug] [2025-04-10T00:48:16.882Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:16.883Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:16.883Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/jamessquarebookings/billingInfo [none]
[debug] [2025-04-10T00:48:18.464Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/jamessquarebookings/billingInfo 200
[debug] [2025-04-10T00:48:18.465Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/jamessquarebookings/billingInfo {"name":"projects/jamessquarebookings/billingInfo","projectId":"jamessquarebookings","billingAccountName":"billingAccounts/012001-FEC581-4622EF","billingEnabled":true}
[debug] [2025-04-10T00:48:18.467Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:18.467Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:18.467Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions:generateUploadUrl [none]
[debug] [2025-04-10T00:48:20.141Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions:generateUploadUrl 200
[debug] [2025-04-10T00:48:20.142Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/18fac11e-3d02-4c98-ac66-b79d71e1a2e0.zip?GoogleAccessId=service-310610178744@gcf-admin-robot.iam.gserviceaccount.com&Expires=1744247899&Signature=WXwfJoq8tbWCIzs0a3ifqsK8e8i5Roh3x9ytvH50ybOnU6YAj76xl0QC%2BaHLlGepoFSQ5vEoO0vBGfWPedjRgOtEFKIf5Czwyy0bAewSyGcLxHUHAh9btVSG5DPR7x%2FXXzyowmhzntXAmFoHhVs3upt7ybV7zi2eRdTVHtW5ZxA%2BN91GST7wscYB8IRYgjf2PjHpcH9WE82P7qyDlUjrAnfBxw5xpMYB5jMuqJSVoRAALqZx0KuzCZcU4iNmsyVCX0b7UsBJT0aeqruwIqsfDiNthqORzOhFBfVyMkzvBN8%2FPu5it9v3Y7J4VZXH4imCRXkIPX69SnKkpMa7kVG8Kg%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com","object":"18fac11e-3d02-4c98-ac66-b79d71e1a2e0.zip"}}
[debug] [2025-04-10T00:48:20.143Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/18fac11e-3d02-4c98-ac66-b79d71e1a2e0.zip GoogleAccessId=service-310610178744%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1744247899&Signature=WXwfJoq8tbWCIzs0a3ifqsK8e8i5Roh3x9ytvH50ybOnU6YAj76xl0QC%2BaHLlGepoFSQ5vEoO0vBGfWPedjRgOtEFKIf5Czwyy0bAewSyGcLxHUHAh9btVSG5DPR7x%2FXXzyowmhzntXAmFoHhVs3upt7ybV7zi2eRdTVHtW5ZxA%2BN91GST7wscYB8IRYgjf2PjHpcH9WE82P7qyDlUjrAnfBxw5xpMYB5jMuqJSVoRAALqZx0KuzCZcU4iNmsyVCX0b7UsBJT0aeqruwIqsfDiNthqORzOhFBfVyMkzvBN8%2FPu5it9v3Y7J4VZXH4imCRXkIPX69SnKkpMa7kVG8Kg%3D%3D
[debug] [2025-04-10T00:48:20.143Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/18fac11e-3d02-4c98-ac66-b79d71e1a2e0.zip [stream]
[debug] [2025-04-10T00:48:22.821Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/18fac11e-3d02-4c98-ac66-b79d71e1a2e0.zip 200
[debug] [2025-04-10T00:48:22.821Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com/18fac11e-3d02-4c98-ac66-b79d71e1a2e0.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 20 (2nd Gen) function sendBookingReminders(europe-west1)... 
[debug] [2025-04-10T00:48:22.827Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:22.827Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:22.828Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2025-04-10T00:48:22.828Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders {"name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-uploads-310610178744.europe-west1.cloudfunctions.appspot.com","object":"18fac11e-3d02-4c98-ac66-b79d71e1a2e0.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":60,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"0886662f30dc038e05fc5b426812728f22aca47f"}}
[debug] [2025-04-10T00:48:25.268Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders 200
[debug] [2025-04-10T00:48:25.268Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:48:25.096518909Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-04-10T00:48:25.270Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:25.270Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:25.270Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8 [none]
[debug] [2025-04-10T00:48:26.892Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8 200
[debug] [2025-04-10T00:48:26.892Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8 {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:48:25.096518909Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744246105063297"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00003-xum","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-scheduled":"true","firebase-functions-hash":"0886662f30dc038e05fc5b426812728f22aca47f"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/3226dbe7-0d50-4828-a16c-f21fbb82efe8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/3226dbe7-0d50-4828-a16c-f21fbb82efe8?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/3226dbe7-0d50-4828-a16c-f21fbb82efe8"},"done":false}
[debug] [2025-04-10T00:48:27.393Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:48:27.394Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:27.394Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:27.394Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8 [none]
[debug] [2025-04-10T00:48:28.944Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8 200
[debug] [2025-04-10T00:48:28.945Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8 {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:48:25.096518909Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744246105063297"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00003-xum","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-scheduled":"true","firebase-functions-hash":"0886662f30dc038e05fc5b426812728f22aca47f"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/3226dbe7-0d50-4828-a16c-f21fbb82efe8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/3226dbe7-0d50-4828-a16c-f21fbb82efe8?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/3226dbe7-0d50-4828-a16c-f21fbb82efe8"},"done":false}
[debug] [2025-04-10T00:48:29.946Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:48:29.947Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:29.947Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:29.948Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8 [none]
[debug] [2025-04-10T00:48:31.600Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8 200
[debug] [2025-04-10T00:48:31.600Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8 {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:48:25.096518909Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744246105063297"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00003-xum","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-scheduled":"true","firebase-functions-hash":"0886662f30dc038e05fc5b426812728f22aca47f"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/3226dbe7-0d50-4828-a16c-f21fbb82efe8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/3226dbe7-0d50-4828-a16c-f21fbb82efe8?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/3226dbe7-0d50-4828-a16c-f21fbb82efe8"},"done":false}
[debug] [2025-04-10T00:48:33.602Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:48:33.602Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:33.602Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:33.603Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8 [none]
[debug] [2025-04-10T00:48:35.286Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8 200
[debug] [2025-04-10T00:48:35.286Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8 {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:48:25.096518909Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744246105063297"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00003-xum","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-scheduled":"true","firebase-functions-hash":"0886662f30dc038e05fc5b426812728f22aca47f"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/3226dbe7-0d50-4828-a16c-f21fbb82efe8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/3226dbe7-0d50-4828-a16c-f21fbb82efe8?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/3226dbe7-0d50-4828-a16c-f21fbb82efe8"},"done":false}
[debug] [2025-04-10T00:48:39.287Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:48:39.288Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:39.288Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:39.289Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8 [none]
[debug] [2025-04-10T00:48:40.848Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8 200
[debug] [2025-04-10T00:48:40.849Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8 {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:48:25.096518909Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744246105063297"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00003-xum","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-scheduled":"true","firebase-functions-hash":"0886662f30dc038e05fc5b426812728f22aca47f"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/3226dbe7-0d50-4828-a16c-f21fbb82efe8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/3226dbe7-0d50-4828-a16c-f21fbb82efe8?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/3226dbe7-0d50-4828-a16c-f21fbb82efe8"},"done":false}
[debug] [2025-04-10T00:48:48.851Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:48:48.852Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:48.852Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:48:48.852Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8 [none]
[debug] [2025-04-10T00:48:50.750Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8 200
[debug] [2025-04-10T00:48:50.750Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8 {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:48:25.096518909Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744246105063297"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00003-xum","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-scheduled":"true","firebase-functions-hash":"0886662f30dc038e05fc5b426812728f22aca47f"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/310610178744/locations/europe-west1/builds/3226dbe7-0d50-4828-a16c-f21fbb82efe8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/3226dbe7-0d50-4828-a16c-f21fbb82efe8?project=310610178744"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/3226dbe7-0d50-4828-a16c-f21fbb82efe8"},"done":false}
[debug] [2025-04-10T00:49:00.752Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:49:00.753Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:49:00.753Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:49:00.754Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8 [none]
[debug] [2025-04-10T00:49:02.629Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8 200
[debug] [2025-04-10T00:49:02.629Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8 {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:48:25.096518909Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744246105063297"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00003-xum","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-scheduled":"true","firebase-functions-hash":"0886662f30dc038e05fc5b426812728f22aca47f"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/310610178744/locations/europe-west1/builds/3226dbe7-0d50-4828-a16c-f21fbb82efe8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=europe-west1/3226dbe7-0d50-4828-a16c-f21fbb82efe8?project=310610178744"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","resourceUri":"https://console.cloud.google.com/run/detail/europe-west1/sendbookingreminders?project=jamessquarebookings","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8zMTA2MTAxNzg3NDQvbG9jYXRpb25zL2V1cm9wZS13ZXN0MS9idWlsZHMvMzIyNmRiZTctMGQ1MC00ODI4LWExNmMtZjIxZmJiODJlZmU4EoIBZXVyb3BlLXdlc3QxLWRvY2tlci5wa2cuZGV2L2phbWVzc3F1YXJlYm9va2luZ3MvZ2NmLWFydGlmYWN0cy9qYW1lc3NxdWFyZWJvb2tpbmdzX19ldXJvcGUtLXdlc3QxX19zZW5kX2Jvb2tpbmdfcmVtaW5kZXJzOnZlcnNpb25fMRi45byOhQkiUnByb2plY3RzL2phbWVzc3F1YXJlYm9va2luZ3MvbG9jYXRpb25zL2V1cm9wZS13ZXN0MS9mdW5jdGlvbnMvc2VuZEJvb2tpbmdSZW1pbmRlcnMqDAj9qty/BhDQx5vPATIIbm9kZWpzMjA6dwojZ2NyLmlvL2dhZS1ydW50aW1lcy9ub2RlanMyMDpzdGFibGUSUGV1cm9wZS13ZXN0MS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/310610178744/locations/europe-west1/builds/3226dbe7-0d50-4828-a16c-f21fbb82efe8"},"done":false}
[debug] [2025-04-10T00:49:02.629Z] Got source token Clhwcm9qZWN0cy8zMTA2MTAxNzg3NDQvbG9jYXRpb25zL2V1cm9wZS13ZXN0MS9idWlsZHMvMzIyNmRiZTctMGQ1MC00ODI4LWExNmMtZjIxZmJiODJlZmU4EoIBZXVyb3BlLXdlc3QxLWRvY2tlci5wa2cuZGV2L2phbWVzc3F1YXJlYm9va2luZ3MvZ2NmLWFydGlmYWN0cy9qYW1lc3NxdWFyZWJvb2tpbmdzX19ldXJvcGUtLXdlc3QxX19zZW5kX2Jvb2tpbmdfcmVtaW5kZXJzOnZlcnNpb25fMRi45byOhQkiUnByb2plY3RzL2phbWVzc3F1YXJlYm9va2luZ3MvbG9jYXRpb25zL2V1cm9wZS13ZXN0MS9mdW5jdGlvbnMvc2VuZEJvb2tpbmdSZW1pbmRlcnMqDAj9qty/BhDQx5vPATIIbm9kZWpzMjA6dwojZ2NyLmlvL2dhZS1ydW50aW1lcy9ub2RlanMyMDpzdGFibGUSUGV1cm9wZS13ZXN0MS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region europe-west1
[debug] [2025-04-10T00:49:12.631Z] [update-default-europe-west1-sendBookingReminders] Retrying task index 0
[debug] [2025-04-10T00:49:12.632Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:49:12.632Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:49:12.633Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8 [none]
[debug] [2025-04-10T00:49:14.506Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8 200
[debug] [2025-04-10T00:49:14.507Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8 {"name":"projects/jamessquarebookings/locations/europe-west1/operations/operation-1744246104283-63261f1725b37-c2f66f5a-be7834e8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T00:48:25.096518909Z","endTime":"2025-04-10T00:49:10.065267394Z","target":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/jamessquarebookings/locations/europe-west1/functions/sendBookingReminders","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBookingReminders","source":{"storageSource":{"bucket":"gcf-v2-sources-310610178744-europe-west1","object":"sendBookingReminders/function-source.zip","generation":"1744246105063297"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","serviceAccount":"projects/jamessquarebookings/serviceAccounts/310610178744-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/jamessquarebookings/locations/europe-west1/services/sendbookingreminders","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}","GCLOUD_PROJECT":"jamessquarebookings","EVENTARC_CLOUD_EVENT_SOURCE":"projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders","FUNCTION_TARGET":"sendBookingReminders","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"310610178744-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendbookingreminders-00003-xum","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","deployment-scheduled":"true","firebase-functions-hash":"0886662f30dc038e05fc5b426812728f22aca47f"},"environment":"GEN_2","url":"https://europe-west1-jamessquarebookings.cloudfunctions.net/sendBookingReminders","satisfiesPzi":true},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service sendbookingreminders, Container Healthcheck failed. Revision 'sendbookingreminders-00004-feh' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=jamessquarebookings&resource=cloud_run_revision/service_name/sendbookingreminders/revision_name/sendbookingreminders-00004-feh&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbookingreminders%22%0Aresource.labels.revision_name%3D%22sendbookingreminders-00004-feh%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2025-04-10T00:49:14.507Z] Got source token undefined for region europe-west1
[error] Could not create or update Cloud Run service sendbookingreminders, Container Healthcheck failed. Revision 'sendbookingreminders-00004-feh' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=jamessquarebookings&resource=cloud_run_revision/service_name/sendbookingreminders/revision_name/sendbookingreminders-00004-feh&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbookingreminders%22%0Aresource.labels.revision_name%3D%22sendbookingreminders-00004-feh%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2025-04-10T00:49:14.516Z] Total Function Deployment time: 51684
[debug] [2025-04-10T00:49:14.516Z] 1 Functions Deployed
[debug] [2025-04-10T00:49:14.516Z] 1 Functions Errored
[debug] [2025-04-10T00:49:14.516Z] 0 Function Deployments Aborted
[debug] [2025-04-10T00:49:14.516Z] Average Function Deployment time: 51683
[info] 
[info] Functions deploy had errors with the following functions:
	sendBookingReminders(europe-west1)
[debug] [2025-04-10T00:49:14.887Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:49:14.887Z] Checked if tokens are valid: true, expires at: 1744247178218
[debug] [2025-04-10T00:49:14.887Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts [none]
[debug] [2025-04-10T00:49:16.642Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts 200
[debug] [2025-04-10T00:49:16.643Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts {"name":"projects/jamessquarebookings/locations/europe-west1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-04-10T00:28:54.431684Z","updateTime":"2025-04-10T00:48:49.681167Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"86400s"}}},"sizeBytes":"119433302","vulnerabilityScanningConfig":{"lastEnableTime":"2025-04-10T00:28:45.105407807Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"europe-west1-docker.pkg.dev/jamessquarebookings/gcf-artifacts"}
[debug] [2025-04-10T00:49:16.643Z] Functions deploy failed.
[debug] [2025-04-10T00:49:16.643Z] {
  "endpoint": {
    "id": "sendBookingReminders",
    "project": "jamessquarebookings",
    "region": "europe-west1",
    "entryPoint": "sendBookingReminders",
    "platform": "gcfv2",
    "runtime": "nodejs20",
    "scheduleTrigger": {
      "schedule": "0 7 * * *",
      "timeZone": "Europe/London",
      "retryConfig": {}
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": 60,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"jamessquarebookings\",\"databaseURL\":\"https://jamessquarebookings-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"jamessquarebookings.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "jamessquarebookings",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/jamessquarebookings/locations/europe-west1/services/sendBookingReminders",
      "FUNCTION_TARGET": "sendBookingReminders",
      "LOG_EXECUTION_ID": "true"
    },
    "codebase": "default",
    "runServiceId": "sendbookingreminders",
    "cpu": 1,
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": true,
    "hash": "0886662f30dc038e05fc5b426812728f22aca47f"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service sendbookingreminders, Container Healthcheck failed. Revision 'sendbookingreminders-00004-feh' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=jamessquarebookings&resource=cloud_run_revision/service_name/sendbookingreminders/revision_name/sendbookingreminders-00004-feh&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbookingreminders%22%0Aresource.labels.revision_name%3D%22sendbookingreminders-00004-feh%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service sendbookingreminders, Container Healthcheck failed. Revision 'sendbookingreminders-00004-feh' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=jamessquarebookings&resource=cloud_run_revision/service_name/sendbookingreminders/revision_name/sendbookingreminders-00004-feh&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbookingreminders%22%0Aresource.labels.revision_name%3D%22sendbookingreminders-00004-feh%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-04-10T00:49:16.802Z] Error: Failed to update function sendBookingReminders in region europe-west1
    at /opt/homebrew/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:399:19
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Fabricator.updateV2Function (/opt/homebrew/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:388:32)
    at async Fabricator.updateEndpoint (/opt/homebrew/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:155:13)
    at async handle (/opt/homebrew/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:89:17)
[error] 
[error] Error: There was an error deploying functions
